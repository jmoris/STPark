import{a as Pe}from"./chunk-IGTKWB6A.js";import{c as ze}from"./chunk-VISRNPMH.js";import{a as Ee}from"./chunk-N6GZTNZA.js";import{a as Le}from"./chunk-VLZZSPQF.js";import{a as Te}from"./chunk-N3PSIUVN.js";import{a as Be}from"./chunk-LISAJ4W4.js";import{a as Ie,b as we,c as Ae,d as Oe}from"./chunk-PFLL6SKJ.js";import{b as ke}from"./chunk-7XMR7DBQ.js";import{d as fe}from"./chunk-E7BFUDNM.js";import{b as be}from"./chunk-G7M3T37K.js";import"./chunk-UF23LYQO.js";import{a as ue}from"./chunk-VKB6BRO6.js";import{b as he,c as ge}from"./chunk-U3LSFXAC.js";import{d as De,e as Se}from"./chunk-PKSNJV5O.js";import{a as Ce,b as Me}from"./chunk-VKOFSPQJ.js";import{b as se,f as oe,j as de,k as le}from"./chunk-L3L2HYJX.js";import{b as ve,f as ye,j as xe,x as _e}from"./chunk-EGGCURRC.js";import{J as te,Q as z,S as P,T as ae,U as ie,V as ne,W as re,la as ce,na as me,oa as pe}from"./chunk-JXZZYULX.js";import"./chunk-2JMYS33K.js";import"./chunk-CQGOYTFO.js";import{d as ee}from"./chunk-7OGW3PNS.js";import{k as G,l as X,m as Q,s as J,u as K}from"./chunk-TQARHOKX.js";import{$ as _,$b as v,Ba as Y,Ca as l,Eb as c,Ia as V,Pb as n,Qb as i,Rb as g,U as M,Vb as $,bb as s,bc as S,cb as y,ea as E,f as T,i as F,jb as Z,jc as U,kb as j,kc as H,lc as w,mc as r,na as R,nc as u,oa as b,oc as C,pa as f,pb as x,pc as q,qb as D,rc as A,sc as O,tc as k,uc as W,wb as I,za as N}from"./chunk-BSJZAB7M.js";import{g as L}from"./chunk-TSRGIXR5.js";var Re=(()=>{class o{static \u0275fac=function(a){return new(a||o)};static \u0275mod=D({type:o});static \u0275inj=_({imports:[te,z,z]})}return o})();var Ve=["chart"],Ne=(()=>{class o{constructor(){this.chart=l(),this.annotations=l(),this.colors=l(),this.dataLabels=l(),this.series=l(),this.stroke=l(),this.labels=l(),this.legend=l(),this.markers=l(),this.noData=l(),this.fill=l(),this.tooltip=l(),this.plotOptions=l(),this.responsive=l(),this.xaxis=l(),this.yaxis=l(),this.forecastDataPoints=l(),this.grid=l(),this.states=l(),this.title=l(),this.subtitle=l(),this.theme=l(),this.autoUpdateSeries=l(!0),this.chartReady=Y(),this.chartInstance=Z(null),this.chartElement=j.required("chart"),this.ngZone=E(N),this.isBrowser=K(E(V))}ngOnChanges(e){this.isBrowser&&this.ngZone.runOutsideAngular(()=>{F.schedule(()=>this.hydrate(e))})}ngOnDestroy(){this.destroy()}hydrate(e){if(this.autoUpdateSeries()&&Object.keys(e).filter(t=>t!=="series").length===0){this.updateSeries(this.series(),!0);return}this.createElement()}createElement(){return L(this,null,function*(){let{default:e}=yield import("./chunk-VRXIKMLJ.js");window.ApexCharts||=e;let a={};["annotations","chart","colors","dataLabels","series","stroke","labels","legend","fill","tooltip","plotOptions","responsive","markers","noData","xaxis","yaxis","forecastDataPoints","grid","states","title","subtitle","theme"].forEach(p=>{let h=this[p]();h&&(a[p]=h)}),this.destroy();let d=this.ngZone.runOutsideAngular(()=>new e(this.chartElement().nativeElement,a));this.chartInstance.set(d),this.render(),this.chartReady.emit({chartObj:d})})}render(){return this.ngZone.runOutsideAngular(()=>this.chartInstance()?.render())}updateOptions(e,a,t,d){return this.ngZone.runOutsideAngular(()=>this.chartInstance()?.updateOptions(e,a,t,d))}updateSeries(e,a){return this.ngZone.runOutsideAngular(()=>this.chartInstance()?.updateSeries(e,a))}appendSeries(e,a){this.ngZone.runOutsideAngular(()=>this.chartInstance()?.appendSeries(e,a))}appendData(e){this.ngZone.runOutsideAngular(()=>this.chartInstance()?.appendData(e))}highlightSeries(e){return this.ngZone.runOutsideAngular(()=>this.chartInstance()?.highlightSeries(e))}toggleSeries(e){return this.ngZone.runOutsideAngular(()=>this.chartInstance()?.toggleSeries(e))}showSeries(e){this.ngZone.runOutsideAngular(()=>this.chartInstance()?.showSeries(e))}hideSeries(e){this.ngZone.runOutsideAngular(()=>this.chartInstance()?.hideSeries(e))}resetSeries(){this.ngZone.runOutsideAngular(()=>this.chartInstance()?.resetSeries())}zoomX(e,a){this.ngZone.runOutsideAngular(()=>this.chartInstance()?.zoomX(e,a))}toggleDataPointSelection(e,a){this.ngZone.runOutsideAngular(()=>this.chartInstance()?.toggleDataPointSelection(e,a))}destroy(){this.chartInstance()?.destroy(),this.chartInstance.set(null)}setLocale(e){this.ngZone.runOutsideAngular(()=>this.chartInstance()?.setLocale(e))}paper(){this.ngZone.runOutsideAngular(()=>this.chartInstance()?.paper())}addXaxisAnnotation(e,a,t){this.ngZone.runOutsideAngular(()=>this.chartInstance()?.addXaxisAnnotation(e,a,t))}addYaxisAnnotation(e,a,t){this.ngZone.runOutsideAngular(()=>this.chartInstance()?.addYaxisAnnotation(e,a,t))}addPointAnnotation(e,a,t){this.ngZone.runOutsideAngular(()=>this.chartInstance()?.addPointAnnotation(e,a,t))}removeAnnotation(e,a){this.ngZone.runOutsideAngular(()=>this.chartInstance()?.removeAnnotation(e,a))}clearAnnotations(e){this.ngZone.runOutsideAngular(()=>this.chartInstance()?.clearAnnotations(e))}dataURI(e){return this.chartInstance()?.dataURI(e)}static{this.\u0275fac=function(a){return new(a||o)}}static{this.\u0275cmp=x({type:o,selectors:[["apx-chart"]],viewQuery:function(a,t){a&1&&U(t.chartElement,Ve,5),a&2&&H()},inputs:{chart:[1,"chart"],annotations:[1,"annotations"],colors:[1,"colors"],dataLabels:[1,"dataLabels"],series:[1,"series"],stroke:[1,"stroke"],labels:[1,"labels"],legend:[1,"legend"],markers:[1,"markers"],noData:[1,"noData"],fill:[1,"fill"],tooltip:[1,"tooltip"],plotOptions:[1,"plotOptions"],responsive:[1,"responsive"],xaxis:[1,"xaxis"],yaxis:[1,"yaxis"],forecastDataPoints:[1,"forecastDataPoints"],grid:[1,"grid"],states:[1,"states"],title:[1,"title"],subtitle:[1,"subtitle"],theme:[1,"theme"],autoUpdateSeries:[1,"autoUpdateSeries"]},outputs:{chartReady:"chartReady"},features:[R],decls:2,vars:0,consts:[["chart",""]],template:function(a,t){a&1&&g(0,"div",null,0)},encapsulation:2,changeDetection:0})}}return o})();var Ye=(()=>{class o{static{this.\u0275fac=function(a){return new(a||o)}}static{this.\u0275mod=D({type:o})}static{this.\u0275inj=_({})}}return o})();function je(o,m){o&1&&(n(0,"div",24),g(1,"mat-spinner",25),i())}function $e(o,m){if(o&1&&(n(0,"div",26)(1,"fuse-alert",27),r(2),i()()),o&2){let e=S();s(),c("dismissible",!0),s(),C(" ",e.error," ")}}function Ue(o,m){if(o&1&&(n(0,"div",61)(1,"div",62),g(2,"div",63),n(3,"div")(4,"p",64),r(5),i(),n(6,"p",53),r(7),i()()(),n(8,"div",65)(9,"p",53),r(10),i(),n(11,"p",66),r(12),i()()()),o&2){let e=m.$implicit,a=S(2);s(5),u(e.plate),s(2),u(e.sector==null?null:e.sector.name),s(3),u(a.getElapsedTime(e.started_at)),s(2),u(a.formatDate(e.started_at))}}function He(o,m){o&1&&(n(0,"div",67),r(1," No hay sesiones activas "),i())}function qe(o,m){if(o&1&&(n(0,"div")(1,"div",28)(2,"fuse-card",29)(3,"div",30)(4,"div",31)(5,"mat-icon",32),r(6,"attach_money"),i()(),n(7,"div",33)(8,"p",34),r(9,"Ingresos Hoy"),i(),n(10,"p",35),r(11),i()()()(),n(12,"fuse-card",29)(13,"div",30)(14,"div",36)(15,"mat-icon",37),r(16,"directions_car"),i()(),n(17,"div",33)(18,"p",34),r(19,"Sesiones Hoy"),i(),n(20,"p",35),r(21),i()()()(),n(22,"fuse-card",29)(23,"div",30)(24,"div",38)(25,"mat-icon",39),r(26,"receipt"),i()(),n(27,"div",33)(28,"p",34),r(29,"Ticket Promedio"),i(),n(30,"p",35),r(31),i()()()(),n(32,"fuse-card",29)(33,"div",30)(34,"div",40)(35,"mat-icon",41),r(36,"schedule"),i()(),n(37,"div",33)(38,"p",34),r(39,"Sesiones Activas"),i(),n(40,"p",35),r(41),i()()()(),n(42,"fuse-card",29)(43,"div",30)(44,"div",42)(45,"mat-icon",43),r(46,"warning"),i()(),n(47,"div",33)(48,"p",34),r(49,"Deudas Pendientes"),i(),n(50,"p",35),r(51),i()()()(),n(52,"fuse-card",29)(53,"div",30)(54,"div",44)(55,"mat-icon",45),r(56,"local_parking"),i()(),n(57,"div",46)(58,"p",34),r(59,"Nivel de Ocupaci\xF3n"),i(),n(60,"p",47),r(61),i(),n(62,"p",48),r(63),i()()()()(),n(64,"div",49)(65,"fuse-card",50)(66,"div",51)(67,"h3",52),r(68,"Ventas por Sector"),i(),n(69,"p",53),r(70,"Distribuci\xF3n de ingresos por sector"),i()(),n(71,"div",54),g(72,"apx-chart",55),i()(),n(73,"fuse-card",50)(74,"div",51)(75,"h3",52),r(76,"Pagos por M\xE9todo"),i(),n(77,"p",53),r(78,"Distribuci\xF3n de pagos por m\xE9todo"),i()(),n(79,"div",54),g(80,"apx-chart",56),i()()(),n(81,"div",49)(82,"fuse-card",50)(83,"div",51)(84,"h3",52),r(85,"Sesiones Iniciadas por Hora"),i(),n(86,"p",53),r(87,"Distribuci\xF3n temporal de sesiones iniciadas"),i()(),n(88,"div",54),g(89,"apx-chart",57),i()(),n(90,"fuse-card",50)(91,"div",51)(92,"h3",52),r(93,"Sesiones Activas"),i(),n(94,"p",53),r(95),i()(),n(96,"div",54)(97,"div",58),I(98,Ue,13,4,"div",59)(99,He,2,0,"div",60),i()()()()()),o&2){let e=S();s(11),u(e.formatAmount(e.stats.totalRevenue)),s(10),u(e.stats.totalSessions),s(10),u(e.formatAmount(e.stats.averageTicket)),s(10),u(e.stats.activeSessions),s(10),u(e.formatAmount(e.stats.pendingDebts)),s(3),c("ngClass",e.getOccupancyBgColor()),s(),c("ngClass",e.getOccupancyIconColor()),s(5),c("ngClass",e.getOccupancyColor()),s(),C(" ",e.occupancyPercentage,"% "),s(2),q(" ",e.stats.activeSessions," / ",e.maxCapacity>0?e.maxCapacity:"N/A"," veh\xEDculos "),s(9),c("series",e.salesChart.series)("chart",e.salesChart.chart)("plotOptions",e.salesChart.plotOptions)("dataLabels",e.salesChart.dataLabels)("xaxis",e.salesChart.xaxis)("yaxis",e.salesChart.yaxis)("colors",e.salesChart.colors)("tooltip",e.salesChart.tooltip),s(8),c("series",e.paymentsChart.series)("chart",e.paymentsChart.chart)("labels",e.paymentsChart.labels)("colors",e.paymentsChart.colors)("legend",e.paymentsChart.legend)("tooltip",e.paymentsChart.tooltip),s(9),c("series",e.sessionsChart.series)("chart",e.sessionsChart.chart)("xaxis",e.sessionsChart.xaxis)("yaxis",e.sessionsChart.yaxis)("colors",e.sessionsChart.colors)("fill",e.sessionsChart.fill),s(6),C("",e.dashboardData.active_sessions.count," sesiones activas"),s(3),c("ngForOf",e.dashboardData.active_sessions.sessions),s(),c("ngIf",e.dashboardData.active_sessions.sessions.length===0)}}var We={parse:{dateInput:"DD/MM/YYYY"},display:{dateInput:"DD/MM/YYYY",monthYearLabel:"MMM YYYY",dateA11yLabel:"LL",monthYearA11yLabel:"MMMM YYYY"}},B=class extends ne{format(m,e){if(e==="DD/MM/YYYY"){let a=m.getDate().toString().padStart(2,"0"),t=(m.getMonth()+1).toString().padStart(2,"0"),d=m.getFullYear();return`${a}/${t}/${d}`}return super.format(m,e)}parse(m){if(m&&m.match(/^\d{2}\/\d{2}\/\d{4}$/)){let[e,a,t]=m.split("/");return new Date(parseInt(t),parseInt(a)-1,parseInt(e))}return super.parse(m)}},Zt=(()=>{class o{constructor(e,a,t,d,p){this.reportService=e,this.sessionService=a,this.paymentService=t,this.debtService=d,this.http=p,this._unsubscribeAll=new T,this.dashboardData=null,this.loading=!1,this.error=null,this.selectedDate=new Date,this.salesChart={},this.paymentsChart={},this.sessionsChart={},this.stats={totalRevenue:0,totalSessions:0,averageTicket:0,pendingDebts:0,activeSessions:0},this.maxCapacity=0,this.occupancyPercentage=0}ngOnInit(){this.loadDashboardData(),this.loadMaxCapacity(),this.initializeCharts()}ngOnDestroy(){this._unsubscribeAll.next(null),this._unsubscribeAll.complete()}formatDateLocal(e){let a=e.getFullYear(),t=String(e.getMonth()+1).padStart(2,"0"),d=String(e.getDate()).padStart(2,"0");return`${a}-${t}-${d}`}loadDashboardData(){this.loading=!0,this.error=null;let e=this.formatDateLocal(this.selectedDate);this.reportService.getDashboard(e).pipe(M(this._unsubscribeAll)).subscribe({next:a=>{this.dashboardData=a.data,this.updateStats(),this.updateCharts(),this.loading=!1},error:a=>{this.error="Error al cargar datos del dashboard",this.loading=!1,console.error("Error loading dashboard:",a)}})}onDateChange(){this.loadDashboardData()}updateStats(){this.dashboardData&&(this.stats={totalRevenue:this.dashboardData.today_sales.total_amount,totalSessions:this.dashboardData.today_sales.count,averageTicket:this.dashboardData.today_sales.count>0?this.dashboardData.today_sales.total_amount/this.dashboardData.today_sales.count:0,pendingDebts:this.dashboardData.pending_debts.total_amount,activeSessions:this.dashboardData.active_sessions.count},this.calculateOccupancy())}loadMaxCapacity(){this.http.get(`${ue.apiUrl}/settings/general`).pipe(M(this._unsubscribeAll)).subscribe({next:e=>{e&&e.success&&e.data&&(this.maxCapacity=e.data.max_capacity||0,this.calculateOccupancy())},error:e=>{console.error("Error al cargar m\xE1xima capacidad:",e),this.maxCapacity=0}})}calculateOccupancy(){this.maxCapacity>0?this.occupancyPercentage=Math.round(this.stats.activeSessions/this.maxCapacity*100):this.occupancyPercentage=0}getOccupancyColor(){return this.occupancyPercentage>=90?"text-red-600":this.occupancyPercentage>=70?"text-orange-600":this.occupancyPercentage>=50?"text-yellow-600":"text-green-600"}getOccupancyBgColor(){return this.occupancyPercentage>=90?"bg-red-100":this.occupancyPercentage>=70?"bg-orange-100":this.occupancyPercentage>=50?"bg-yellow-100":"bg-green-100"}getOccupancyIconColor(){return this.occupancyPercentage>=90?"text-red-600":this.occupancyPercentage>=70?"text-orange-600":this.occupancyPercentage>=50?"text-yellow-600":"text-green-600"}updateCharts(){this.dashboardData&&(this.updateSalesChart(),this.updatePaymentsChart(),this.updateSessionsChart())}updateSalesChart(){let e=this.dashboardData.today_sales.by_sector,a=Object.entries(e).map(([t,d])=>({x:t,y:d.total}));this.salesChart={series:[{name:"Ventas",data:a}],chart:{type:"bar",height:400,toolbar:{show:!1}},plotOptions:{bar:{horizontal:!1,columnWidth:"55%",borderRadius:4}},dataLabels:{enabled:!1},xaxis:{categories:Object.keys(e)},yaxis:{labels:{formatter:t=>this.formatAmount(t)}},colors:["#3B82F6"],tooltip:{y:{formatter:t=>this.formatAmount(t)}}}}updatePaymentsChart(){let e=this.dashboardData.today_payments.by_method,a=Object.entries(e).map(([t,d])=>({x:this.paymentService.getPaymentMethodLabel(t),y:d.total}));this.paymentsChart={series:Object.values(e).map(t=>t.total),chart:{type:"donut",height:400},labels:Object.keys(e).map(t=>this.paymentService.getPaymentMethodLabel(t)),colors:["#10B981","#3B82F6","#8B5CF6","#F59E0B"],legend:{position:"bottom"},tooltip:{y:{formatter:t=>this.formatAmount(t)}}}}updateSessionsChart(){let e=this.dashboardData.sessions_by_hour||[],a=e.map(t=>({x:`${t.hour.toString().padStart(2,"0")}:00`,y:t.count}));this.sessionsChart={series:[{name:"Sesiones Iniciadas",data:a}],chart:{type:"line",height:400,toolbar:{show:!1},zoom:{enabled:!1}},stroke:{curve:"smooth",width:3},xaxis:{categories:e.map(t=>`${t.hour.toString().padStart(2,"0")}:00`),labels:{rotate:-45,rotateAlways:!1}},yaxis:{title:{text:"Sesiones"},min:0},colors:["#3B82F6"],markers:{size:5,hover:{size:7}},grid:{borderColor:"#e5e7eb",strokeDashArray:4},tooltip:{y:{formatter:t=>`${t} sesiones`}}}}initializeCharts(){this.salesChart={series:[],chart:{type:"bar"}},this.paymentsChart={series:[],chart:{type:"donut"}},this.sessionsChart={series:[],chart:{type:"area"}}}formatAmount(e){return this.reportService.formatAmount(e)}formatDate(e){return this.reportService.formatDate(e)}refreshData(){this.loadDashboardData()}exportReport(){let e=this.formatDateLocal(this.selectedDate),a={date_from:e,date_to:e};this.reportService.exportToPdf("sales",a)}getStatusColor(e){return this.sessionService.getStatusColor(e)}getStatusLabel(e){return this.sessionService.getStatusLabel(e)}getPaymentMethodColor(e){return this.paymentService.getPaymentMethodColor(e)}getPaymentMethodLabel(e){return this.paymentService.getPaymentMethodLabel(e)}getElapsedTime(e){let a=new Date(e),d=Math.floor((new Date().getTime()-a.getTime())/1e3);return this.sessionService.formatDuration(d)}static{this.\u0275fac=function(a){return new(a||o)(y(Pe),y(Be),y(Le),y(Te),y(ee))}}static{this.\u0275cmp=x({type:o,selectors:[["app-dashboard"]],features:[W([{provide:ae,useClass:B,deps:[P]},{provide:ie,useValue:We},{provide:P,useValue:"es-CL"}])],decls:50,vars:13,consts:[["picker",""],["pickerDesktop",""],[1,"p-6","w-full"],[1,"mb-8"],[1,"block","md:hidden"],[1,"mb-2"],[1,"text-3xl","font-bold","text-gray-900"],[1,"mb-4"],[1,"text-gray-600"],[1,"flex","flex-col","items-start","gap-4"],["appearance","outline",1,"w-full"],["matInput","","placeholder","dd/mm/yyyy",3,"ngModelChange","dateChange","matDatepicker","ngModel"],["matIconSuffix","",3,"for"],[1,"flex","items-center","justify-center","gap-4","w-full"],["mat-raised-button","",1,"rounded-sm",3,"click","disabled"],["mat-raised-button","","color","primary",1,"rounded-sm",3,"click","disabled"],[1,"hidden","md:flex","items-center","justify-between"],[1,"mt-2","text-gray-600"],[1,"flex","items-center","gap-4"],["appearance","outline",1,"w-48"],["mat-icon-button","",1,"rounded-sm",3,"click","disabled"],["class","flex justify-center items-center h-64",4,"ngIf"],["class","mb-6",4,"ngIf"],[4,"ngIf"],[1,"flex","justify-center","items-center","h-64"],["diameter","50"],[1,"mb-6"],["type","error",3,"dismissible"],[1,"grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-3","xl:grid-cols-6","gap-6","mb-8"],[1,"p-6"],[1,"flex","items-center"],[1,"p-3","bg-green-100","rounded-lg"],[1,"text-green-600"],[1,"ml-4"],[1,"text-sm","font-medium","text-gray-600"],[1,"text-2xl","font-bold","text-gray-900"],[1,"p-3","bg-blue-100","rounded-lg"],[1,"text-blue-600"],[1,"p-3","bg-purple-100","rounded-lg"],[1,"text-purple-600"],[1,"p-3","bg-orange-100","rounded-lg"],[1,"text-orange-600"],[1,"p-3","bg-red-100","rounded-lg"],[1,"text-red-600"],[1,"p-3","rounded-lg",3,"ngClass"],[3,"ngClass"],[1,"ml-4","flex-1"],[1,"text-2xl","font-bold",3,"ngClass"],[1,"text-xs","text-gray-500","mt-1"],[1,"grid","grid-cols-1","lg:grid-cols-2","gap-6","mb-8"],[1,"flex","flex-col"],[1,"px-6","pt-4","pb-3","border-b","border-gray-200"],[1,"text-lg","font-semibold","text-gray-900","mb-1"],[1,"text-sm","text-gray-600"],[1,"p-6","flex-1"],[3,"series","chart","plotOptions","dataLabels","xaxis","yaxis","colors","tooltip"],[3,"series","chart","labels","colors","legend","tooltip"],[3,"series","chart","xaxis","yaxis","colors","fill"],[1,"space-y-3","max-h-80","overflow-y-auto"],["class","flex items-center justify-between p-3 bg-gray-50 rounded-lg",4,"ngFor","ngForOf"],["class","text-center py-8 text-gray-500",4,"ngIf"],[1,"flex","items-center","justify-between","p-3","bg-gray-50","rounded-lg"],[1,"flex","items-center","space-x-3"],[1,"w-3","h-3","bg-green-500","rounded-full"],[1,"font-medium","text-gray-900"],[1,"text-right"],[1,"text-xs","text-gray-500"],[1,"text-center","py-8","text-gray-500"]],template:function(a,t){if(a&1){let d=$();n(0,"div",2)(1,"div",3)(2,"div",4)(3,"div",5)(4,"h1",6),r(5,"Dashboard"),i()(),n(6,"div",7)(7,"p",8),r(8,"Resumen general del sistema de estacionamientos"),i()(),n(9,"div",9)(10,"mat-form-field",10)(11,"mat-label"),r(12,"Fecha"),i(),n(13,"input",11),k("ngModelChange",function(h){return b(d),O(t.selectedDate,h)||(t.selectedDate=h),f(h)}),v("dateChange",function(){return b(d),f(t.onDateChange())}),i(),g(14,"mat-datepicker-toggle",12)(15,"mat-datepicker",null,0),i(),n(17,"div",13)(18,"button",14),v("click",function(){return b(d),f(t.refreshData())}),n(19,"mat-icon"),r(20,"refresh"),i(),r(21," Refrescar "),i(),n(22,"button",15),v("click",function(){return b(d),f(t.exportReport())}),n(23,"mat-icon"),r(24,"download"),i(),r(25," Exportar "),i()()()(),n(26,"div",16)(27,"div")(28,"h1",6),r(29,"Dashboard"),i(),n(30,"p",17),r(31,"Resumen general del sistema de estacionamientos"),i()(),n(32,"div",18)(33,"mat-form-field",19)(34,"mat-label"),r(35,"Fecha"),i(),n(36,"input",11),k("ngModelChange",function(h){return b(d),O(t.selectedDate,h)||(t.selectedDate=h),f(h)}),v("dateChange",function(){return b(d),f(t.onDateChange())}),i(),g(37,"mat-datepicker-toggle",12)(38,"mat-datepicker",null,1),i(),n(40,"button",20),v("click",function(){return b(d),f(t.refreshData())}),n(41,"mat-icon"),r(42,"refresh"),i()(),n(43,"button",15),v("click",function(){return b(d),f(t.exportReport())}),n(44,"mat-icon"),r(45,"download"),i(),r(46," Exportar "),i()()()(),I(47,je,2,0,"div",21)(48,$e,3,2,"div",22)(49,qe,100,34,"div",23),i()}if(a&2){let d=w(16),p=w(39);s(13),c("matDatepicker",d),A("ngModel",t.selectedDate),s(),c("for",d),s(4),c("disabled",t.loading),s(4),c("disabled",!t.dashboardData),s(14),c("matDatepicker",p),A("ngModel",t.selectedDate),s(),c("for",p),s(3),c("disabled",t.loading),s(3),c("disabled",!t.dashboardData),s(4),c("ngIf",t.loading),s(),c("ngIf",t.error),s(),c("ngIf",t.dashboardData&&!t.loading)}},dependencies:[J,G,X,Q,_e,ve,ye,xe,Ee,pe,ce,me,ge,he,Me,Ce,Oe,Ie,we,Ae,re,le,de,se,oe,Se,De,ke,ze,Re,be,fe,Ye,Ne],styles:[".apx-chart[_ngcontent-%COMP%]{width:100%}.stats-card[_ngcontent-%COMP%]{transition:transform .2s ease-in-out}.stats-card[_ngcontent-%COMP%]:hover{transform:translateY(-2px)}.active-session-item[_ngcontent-%COMP%]{transition:background-color .2s ease-in-out}.active-session-item[_ngcontent-%COMP%]:hover{background-color:#0000000d}.quick-action-button[_ngcontent-%COMP%]{height:48px;min-width:120px}.quick-action-button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-right:8px}@media (max-width: 768px){.grid-cols-6[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}.grid-cols-2[_ngcontent-%COMP%]{grid-template-columns:1fr}}@media (max-width: 480px){.grid-cols-6[_ngcontent-%COMP%]{grid-template-columns:1fr}}"]})}}return o})();export{B as CustomDateAdapter,We as DATE_FORMATS,Zt as DashboardComponent};
