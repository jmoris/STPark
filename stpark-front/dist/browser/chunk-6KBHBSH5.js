import{a as f}from"./chunk-VKB6BRO6.js";import{a,d as c}from"./chunk-FDUGCV2L.js";import{_ as h,c as n,da as p}from"./chunk-QDWFRTQW.js";var g=(()=>{class i{constructor(t){this.http=t,this.baseUrl=`${f.apiUrl}/shifts`}openShift(t){return this.http.post(`${this.baseUrl}/open`,t)}getCurrentShift(t,e){let r=new a().set("operator_id",t.toString());return e&&(r=r.set("device_id",e)),this.http.get(`${this.baseUrl}/current`,{params:r})}getShifts(t={}){let e=new a;return Object.keys(t).forEach(r=>{let s=t[r];s!=null&&s!==""&&(e=e.set(r,s.toString()))}),this.http.get(this.baseUrl,{params:e})}getShift(t){return this.http.get(`${this.baseUrl}/${t}`)}closeShift(t,e){return this.http.post(`${this.baseUrl}/${t}/close`,e)}cancelShift(t,e){return this.http.post(`${this.baseUrl}/${t}/cancel`,{notes:e})}createCashAdjustment(t,e){return this.http.post(`${this.baseUrl}/${t}/adjustments`,e)}getShiftReport(t,e="json"){let r=new a().set("format",e);return this.http.get(`${this.baseUrl}/${t}/report`,{params:r})}downloadShiftReportPdf(t){let e=new a().set("format","pdf");return this.http.get(`${this.baseUrl}/${t}/report`,{params:e,responseType:"blob"})}getTodayShifts(t){let e=new Date().toISOString().split("T")[0],r={from:e,to:e,operator_id:t,per_page:100};return new n(s=>{this.getShifts(r).subscribe({next:o=>{s.next({success:o.success,data:o.data.data||[],message:o.message}),s.complete()},error:o=>{s.error(o)}})})}static{this.\u0275fac=function(e){return new(e||i)(p(c))}}static{this.\u0275prov=h({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();export{g as a};
