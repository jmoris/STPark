import{a as _e}from"./chunk-EW2BJTQW.js";import{a as xe}from"./chunk-N5AGQW4N.js";import{a as he}from"./chunk-THANK266.js";import{a as ve}from"./chunk-AXYEW2PK.js";import{a as fe}from"./chunk-Y33ASIMI.js";import{c as ge}from"./chunk-ZMAIZYCZ.js";import{f as pe}from"./chunk-CFZHHQ3I.js";import"./chunk-2LVKS4R7.js";import{a as ue,b as ce}from"./chunk-FGUURFJS.js";import{a as J,b as K}from"./chunk-3FSFXLFF.js";import{a as me,b as de}from"./chunk-3FSLCT73.js";import{b as ae}from"./chunk-AGGAQN5G.js";import{g as U}from"./chunk-4Y4LGJ4R.js";import{c as B,h as j}from"./chunk-ZMKJJYLL.js";import"./chunk-EOYQYJ3N.js";import"./chunk-VKB6BRO6.js";import{b as Q,c as W}from"./chunk-72F6PA3H.js";import{d as oe,e as re}from"./chunk-F2IYN6IZ.js";import{b as $,f as L,j as O,k as R}from"./chunk-EO526QJS.js";import{a as se,b as le}from"./chunk-6JXRNXI3.js";import{B as ne,b as X,d as y,f as Y,g as Z,n as ee,q as te,y as ie}from"./chunk-XMMUWBM2.js";import{fa as P,la as H,na as G,oa as z}from"./chunk-56JILNRZ.js";import"./chunk-PNH6XH57.js";import"./chunk-TTG7A5I5.js";import{b as N,d as V}from"./chunk-P2DCSIJY.js";import"./chunk-FDUGCV2L.js";import{k as F,l as w,m as q,t as T}from"./chunk-IZAOXH6X.js";import{$b as v,Eb as l,Fb as D,Ib as C,Pb as o,Qb as i,Rb as k,U as f,Vb as b,bb as s,bc as u,cb as h,f as M,mc as r,nc as c,oa as _,oc as S,pa as x,pb as I,pc as A,wb as p}from"./chunk-QDWFRTQW.js";import"./chunk-TSRGIXR5.js";function Se(a,m){if(a&1){let e=b();o(0,"button",7),v("click",function(){_(e);let n=u();return x(n.openPaymentModal())}),o(1,"mat-icon"),r(2,"payment"),i(),r(3," Finalizar Sesi\xF3n "),i()}}function ye(a,m){a&1&&(o(0,"div",8),k(1,"mat-spinner",9),o(2,"p",10),r(3,"Cargando sesi\xF3n..."),i()())}function Ee(a,m){if(a&1){let e=b();o(0,"div",8)(1,"mat-icon",11),r(2,"error"),i(),o(3,"h2",12),r(4,"Error"),i(),o(5,"p",13),r(6),i(),o(7,"button",7),v("click",function(){_(e);let n=u();return x(n.onBack())}),o(8,"mat-icon"),r(9,"arrow_back"),i(),r(10," Volver "),i()()}if(a&2){let e=u();s(6),c(e.error)}}function Me(a,m){if(a&1&&(o(0,"div")(1,"label",19),r(2,"Fin"),i(),o(3,"p",20),r(4),i()()),a&2){let e=u(2);s(4),c(e.formatDateTime(e.session.ended_at))}}function Ie(a,m){a&1&&(o(0,"fuse-card")(1,"div",25),k(2,"mat-spinner",26),o(3,"p",3),r(4,"Calculando cotizaci\xF3n..."),i()()())}function De(a,m){if(a&1&&(o(0,"mat-option",32)(1,"div",50)(2,"span",51),r(3),i(),o(4,"span",52),r(5),i()()()),a&2){let e=m.$implicit,t=u(3);l("value",e.id),s(3),c(e.name),s(2),c(t.getDiscountDisplayValue(e))}}function Ae(a,m){if(a&1&&(o(0,"div",39)(1,"label",19),r(2,"M\xE1ximo diario"),i(),o(3,"p",53),r(4),i()()),a&2){let e=u(3);s(4),c(e.getDailyMaxAmount())}}function Fe(a,m){if(a&1&&(o(0,"p",60),r(1),i()),a&2){let e=u(4);s(),c(e.selectedDiscount.description)}}function we(a,m){if(a&1&&(o(0,"div",54)(1,"div",55)(2,"mat-icon",56),r(3,"local_offer"),i(),o(4,"label",57),r(5,"Descuento aplicado"),i()(),o(6,"p",58),r(7),i(),p(8,Fe,2,1,"p",59),i()),a&2){let e=u(3);s(7),c(e.selectedDiscount.name),s(),l("ngIf",e.selectedDiscount.description)}}function qe(a,m){if(a&1&&(o(0,"p",61),r(1),i()),a&2){let e=u(3);s(),S(" Descuento aplicado: -",e.formatAmount(e.quote.discount_amount)," ")}}function Te(a,m){if(a&1&&(o(0,"div",68)(1,"span",3),r(2),i(),o(3,"span",51),r(4),i()()),a&2){let e=m.$implicit,t=u(5);C(e.is_daily_max_adjustment?"border-orange-300 bg-orange-50":""),s(),C(e.is_daily_max_adjustment?"text-orange-800 font-semibold":""),s(),A(" ",e.rule_name," (",e.minutes," min) "),s(),C(e.is_daily_max_adjustment?"text-orange-700":""),s(),S(" ",t.formatAmount(e.amount)," ")}}function Ne(a,m){if(a&1&&(o(0,"div",66),p(1,Te,5,9,"div",67),i()),a&2){let e=u(4);s(),l("ngForOf",e.quote.breakdown)}}function Ve(a,m){if(a&1){let e=b();o(0,"div",62)(1,"button",63),v("click",function(){_(e);let n=u(3);return x(n.toggleBreakdown())}),o(2,"span"),r(3,"Desglose por reglas:"),i(),o(4,"mat-icon",64),r(5," expand_more "),i()(),p(6,Ne,2,1,"div",65),i()}if(a&2){let e=u(3);s(4),D("transform",e.breakdownExpanded?"rotate(180deg)":"rotate(0deg)"),s(2),l("ngIf",e.breakdownExpanded)}}function Pe(a,m){if(a&1){let e=b();o(0,"fuse-card")(1,"div",16)(2,"h2",17),r(3,"Desglose de Costos"),i(),o(4,"div",27)(5,"label",28),r(6,"Aplicar Descuento"),i(),o(7,"div",29)(8,"mat-form-field",30)(9,"mat-label"),r(10,"Seleccionar descuento"),i(),o(11,"mat-select",31),v("selectionChange",function(){_(e);let n=u(2);return x(n.onDiscountChange())}),o(12,"mat-option",32),r(13,"Ninguno"),i(),p(14,De,6,3,"mat-option",33),i()(),o(15,"div",34)(16,"mat-form-field",35)(17,"mat-label"),r(18,"C\xF3digo de descuento (alternativo)"),i(),k(19,"input",36),o(20,"button",37),v("click",function(){_(e);let n=u(2);return x(n.onApplyDiscount())}),o(21,"mat-icon"),r(22,"local_offer"),i()()()()()(),o(23,"div",38)(24,"div",39)(25,"label",19),r(26,"Tarifa por minuto"),i(),o(27,"p",40),r(28),i()(),p(29,Ae,5,1,"div",41)(30,we,9,2,"div",42),i(),o(31,"div",43)(32,"div",39)(33,"label",19),r(34,"Duraci\xF3n"),i(),o(35,"p",44),r(36),i()(),o(37,"div",45)(38,"label",46),r(39,"Total a Pagar"),i(),o(40,"p",47),r(41),i(),p(42,qe,2,1,"p",48),i()(),p(43,Ve,7,3,"div",49),i()()}if(a&2){let e,t=u(2);s(4),l("formGroup",t.checkoutForm),s(8),l("value",null),s(2),l("ngForOf",t.availableDiscounts),s(6),l("disabled",!((e=t.checkoutForm.get("discount_code"))!=null&&e.value)),s(3),l("ngClass",t.getInfoCardsGridColumns()),s(5),c(t.getRatePerMinute()),s(),l("ngIf",t.hasDailyMaxAmount()),s(),l("ngIf",t.selectedDiscount),s(6),c(t.formatDurationFromMinutes(t.quote.duration_minutes)),s(5),c(t.formatAmount(t.quote.net_amount)),s(),l("ngIf",t.quote.discount_amount&&t.quote.discount_amount>0),s(),l("ngIf",t.quote.breakdown&&t.quote.breakdown.length>0)}}function Be(a,m){if(a&1&&(o(0,"div",14)(1,"div",15)(2,"fuse-card")(3,"div",16)(4,"h2",17),r(5,"Informaci\xF3n de Sesi\xF3n"),i(),o(6,"div",18)(7,"div")(8,"label",19),r(9,"ID de Sesi\xF3n"),i(),o(10,"p",20),r(11),i()(),o(12,"div")(13,"label",19),r(14,"Patente"),i(),o(15,"p",21),r(16),i()(),o(17,"div")(18,"label",19),r(19,"Sector"),i(),o(20,"p",20),r(21),i()(),o(22,"div")(23,"label",19),r(24,"Calle"),i(),o(25,"p",20),r(26),i()(),o(27,"div")(28,"label",19),r(29,"Operador"),i(),o(30,"p",20),r(31),i()(),o(32,"div")(33,"label",19),r(34,"Estado"),i(),o(35,"span",22),r(36),i()(),o(37,"div")(38,"label",19),r(39,"Inicio"),i(),o(40,"p",20),r(41),i()(),p(42,Me,5,1,"div",23),i()()()(),o(43,"div",24),p(44,Ie,5,0,"fuse-card",23)(45,Pe,44,12,"fuse-card",23),i()()),a&2){let e=u();s(11),c(e.session.id),s(5),c(e.session.plate),s(5),c((e.session.sector==null?null:e.session.sector.name)||"N/A"),s(5),c((e.session.street==null?null:e.session.street.name)||"N/A"),s(5),c((e.session.operator==null?null:e.session.operator.name)||"N/A"),s(5),S(" ",e.session.status," "),s(5),c(e.formatDateTime(e.session.started_at)),s(),l("ngIf",e.session.ended_at),s(2),l("ngIf",e.calculating),s(),l("ngIf",!e.calculating&&e.quote)}}var vt=(()=>{class a{constructor(e,t,n,d,g,E,be,Ce,ke){this.route=e,this.router=t,this.fb=n,this.sessionService=d,this.printerService=g,this.discountService=E,this.snackBar=be,this.confirmationService=Ce,this.dialog=ke,this._unsubscribeAll=new M,this.session=null,this.loading=!1,this.error=null,this.calculating=!1,this.quote=null,this.availableDiscounts=[],this.loadingDiscounts=!1,this.selectedDiscount=null,this.breakdownExpanded=!1,this.checkoutForm=this.createForm()}ngOnInit(){this.loadSession()}ngOnDestroy(){this._unsubscribeAll.next(null),this._unsubscribeAll.complete()}createForm(){return this.fb.group({discount_id:[null],discount_code:[""],notes:[""],payment_method:["CASH",y.required],amount:["0",[y.required,y.min(0)]]})}loadSession(){let e=this.route.snapshot.paramMap.get("id");if(!e){this.router.navigate(["/parking/sessions"]);return}this.loading=!0,this.error=null,this.sessionService.getSession(+e).pipe(f(this._unsubscribeAll)).subscribe({next:t=>{if(this.session=t.data,this.session?.status!=="ACTIVE"){this.snackBar.open("Solo se puede hacer checkout de sesiones activas","Cerrar",{duration:3e3}),this.router.navigate(["/parking/sessions"]);return}this.loadDiscounts(),this.loadQuote(),this.loading=!1},error:t=>{this.error="Error al cargar sesi\xF3n",this.loading=!1,console.error("Error loading session:",t),this.snackBar.open("Error al cargar sesi\xF3n","Cerrar",{duration:3e3})}})}loadQuote(){if(!this.session)return;this.calculating=!0;let e=new Date().toISOString();this.sessionService.getQuote(this.session.id,{ended_at:e}).pipe(f(this._unsubscribeAll)).subscribe({next:t=>{this.quote=t.data,this.calculating=!1,this.onPaymentMethodChange()},error:t=>{this.calculating=!1,console.error("Error calculating quote:",t),this.snackBar.open("Error al calcular cotizaci\xF3n","Cerrar",{duration:3e3})}})}loadDiscounts(){this.loadingDiscounts=!0,this.discountService.getSessionDiscounts().pipe(f(this._unsubscribeAll)).subscribe({next:e=>{let t=new Date;this.availableDiscounts=(e.data||[]).filter(n=>!(!n.is_active||n.valid_from&&new Date(n.valid_from)>t||n.valid_until&&new Date(n.valid_until)<t)),this.loadingDiscounts=!1},error:e=>{console.error("Error loading discounts:",e),this.loadingDiscounts=!1}})}onDiscountChange(){let e=this.checkoutForm.get("discount_id")?.value;e?(this.selectedDiscount=this.availableDiscounts.find(t=>t.id===e)||null,this.applyDiscount()):(this.selectedDiscount=null,this.checkoutForm.patchValue({discount_code:""}),this.loadQuote())}onApplyDiscount(){this.session&&this.applyDiscount()}applyDiscount(){if(!this.session)return;this.calculating=!0;let e=this.checkoutForm.get("discount_id")?.value,t=this.checkoutForm.get("discount_code")?.value,d={ended_at:new Date().toISOString()};e?d.discount_id=e:t&&(d.discount_code=t),this.sessionService.getQuote(this.session.id,d).pipe(f(this._unsubscribeAll)).subscribe({next:g=>{this.quote=g.data,this.calculating=!1,this.onPaymentMethodChange(),(e||t)&&this.snackBar.open("Descuento aplicado correctamente","Cerrar",{duration:3e3})},error:g=>{this.calculating=!1,console.error("Error applying discount:",g);let E=g?.error?.message||"Error al aplicar descuento";this.snackBar.open(E,"Cerrar",{duration:3e3})}})}onCheckout(){if(!this.session||!this.quote)return;this.confirmationService.open({title:"Confirmar Checkout",message:`\xBFEst\xE1 seguro de procesar el checkout para la placa ${this.session.plate}?<br>
                <strong>Monto a cobrar:</strong> ${this.formatAmount(this.quote.net_amount)}`,icon:{show:!0,name:"heroicons_outline:currency-dollar",color:"primary"},actions:{confirm:{show:!0,label:"Procesar Checkout",color:"primary"},cancel:{show:!0,label:"Cancelar"}}}).afterClosed().subscribe(t=>{t==="confirmed"&&this.processCheckout()})}processCheckout(){if(!this.session||!this.checkoutForm.valid)return;this.loading=!0;let e=this.checkoutForm.get("discount_id")?.value,t=this.checkoutForm.get("discount_code")?.value,n={payment_method:this.checkoutForm.get("payment_method")?.value,amount:this.getNumericAmount(),notes:this.checkoutForm.get("notes")?.value||null,operator_id:this.session.operator_in_id};e?n.discount_id=e:t&&(n.discount_code=t),this.sessionService.checkoutSession(this.session.id,n).pipe(f(this._unsubscribeAll)).subscribe({next:d=>{this.loading=!1,this.snackBar.open("Checkout procesado exitosamente","Cerrar",{duration:3e3}),this.printExitTicket(d.data,n),this.router.navigate(["/parking/sessions"])},error:d=>{this.loading=!1,console.error("Error processing checkout:",d),this.snackBar.open("Error al procesar checkout","Cerrar",{duration:3e3})}})}onBack(){let e=this.route.snapshot.paramMap.get("id");e?this.router.navigate(["/parking/sessions",e]):this.router.navigate(["/parking/sessions"])}openPaymentModal(){if(!this.session||!this.quote){this.snackBar.open("No se puede procesar el pago sin datos de sesi\xF3n","Cerrar",{duration:3e3});return}this.dialog.open(ve,{width:"800px",maxWidth:"95vw",maxHeight:"90vh",data:{session:this.session,quote:this.quote,selectedDiscount:this.selectedDiscount},disableClose:!1}).afterClosed().subscribe(t=>{t?.success&&(this.loadSession(),this.snackBar.open("Pago procesado exitosamente","Cerrar",{duration:3e3}),this.router.navigate(["/parking/sessions"]))})}formatAmount(e){return this.sessionService.formatAmount(e)}formatDate(e){return new Date(e).toLocaleString("es-CL")}formatDateTime(e){if(!e)return"N/A";let t=new Date(e);if(isNaN(t.getTime()))return"N/A";let n=t.toLocaleDateString("es-CL",{day:"2-digit",month:"2-digit",year:"2-digit"}),d=t.toLocaleTimeString("es-CL",{hour:"2-digit",minute:"2-digit",hour12:!1});return`${n} ${d}`}formatDuration(e){return this.sessionService.formatDuration(e)}formatDurationFromMinutes(e){if(e<60)return`${Math.round(e)} minutos`;{let t=Math.floor(e/60),n=Math.round(e%60);return n===0?`${t} hora${t>1?"s":""}`:`${t} hora${t>1?"s":""} ${n} minuto${n>1?"s":""}`}}getStatusLabel(e){return this.sessionService.getStatusLabel(e)}getStatusColor(e){return this.sessionService.getStatusColor(e)}getNumericAmount(){let e=this.checkoutForm.get("amount")?.value;return typeof e=="string"?parseInt(e.replace(/[^\d]/g,""))||0:e||0}calculateChange(){let e=this.checkoutForm.get("payment_method")?.value,t=this.getNumericAmount(),n=this.quote?.net_amount||0;return e==="CASH"&&t>n?t-n:0}calculateAmountMissing(){let e=this.checkoutForm.get("payment_method")?.value,t=this.getNumericAmount(),n=this.quote?.net_amount||0;return e==="CASH"&&t<n?n-t:0}shouldShowChange(){let e=this.checkoutForm.get("payment_method")?.value,t=this.getNumericAmount(),n=this.quote?.net_amount||0;return e==="CASH"&&t>n}shouldShowMissingAmount(){let e=this.checkoutForm.get("payment_method")?.value,t=this.getNumericAmount(),n=this.quote?.net_amount||0;return e==="CASH"&&t<n}isAmountInsufficient(){let e=this.checkoutForm.get("payment_method")?.value,t=this.getNumericAmount(),n=this.quote?.net_amount||0;return e==="CASH"&&t<n}validateAmountSufficient(e){let t=e.value,n=this.checkoutForm?.get("payment_method")?.value,d=this.quote?.net_amount||0;return n==="CASH"&&t<d?{insufficientAmount:!0}:null}getAmountErrorMessage(){let e=this.checkoutForm.get("amount");if(e?.hasError("required"))return"El monto es requerido";if(e?.hasError("min"))return"El monto debe ser mayor a 0";if(e?.hasError("insufficientAmount")){let t=this.quote?.net_amount||0;return`El monto debe ser al menos ${this.formatAmount(t)}`}return""}formatCurrencyInput(e){let t=e.target,n=t.value.replace(/[^\d]/g,"");if(n){let d=parseInt(n).toLocaleString("es-CL");t.value=d,this.checkoutForm.patchValue({amount:parseInt(n)})}else this.checkoutForm.patchValue({amount:0})}updateAmountField(e){let t=e.toLocaleString("es-CL");this.checkoutForm.patchValue({amount:t})}fillExactAmount(){this.quote?.net_amount&&this.updateAmountField(this.quote.net_amount)}onAmountBlur(){let t=this.checkoutForm.get("amount")?.value;if(t&&typeof t=="string"){let n=parseInt(t.replace(/[^\d]/g,""));n&&this.checkoutForm.patchValue({amount:n})}}getCurrentTime(){return new Date().toLocaleString("es-CL")}onPaymentMethodChange(){this.checkoutForm.get("payment_method")?.value==="CASH"?(this.checkoutForm.get("amount")?.setValue("0"),this.checkoutForm.get("amount")?.enable()):this.quote?.net_amount&&(this.updateAmountField(this.quote.net_amount),this.checkoutForm.get("amount")?.disable())}getRatePerMinute(){if(this.session?.is_full_day||this.quote?.is_full_day||!this.quote?.breakdown||this.quote.breakdown.length===0)return"-";let e=this.quote.breakdown.find(t=>t.rate_per_minute&&t.rate_per_minute>0);return e?this.formatAmount(e.rate_per_minute)+"/min":"-"}hasDailyMaxAmount(){return!this.quote?.breakdown||this.quote.breakdown.length===0?!1:this.quote.breakdown.some(e=>e.daily_max_amount&&e.daily_max_amount>0)}getDailyMaxAmount(){if(!this.quote?.breakdown||this.quote.breakdown.length===0)return"N/A";let e=this.quote.breakdown.find(t=>t.daily_max_amount&&t.daily_max_amount>0);return e?this.formatAmount(e.daily_max_amount):"N/A"}isAmountFieldDisabled(){return this.checkoutForm.get("payment_method")?.value!=="CASH"}getInfoCardsGridColumns(){let e=this.hasDailyMaxAmount(),t=!!this.selectedDiscount;return e&&t?"md:grid-cols-3":e||t?"md:grid-cols-2":"md:grid-cols-1"}toggleBreakdown(){this.breakdownExpanded=!this.breakdownExpanded,console.log("Breakdown expanded:",this.breakdownExpanded)}getDiscountDisplayValue(e){if(e.discount_type==="AMOUNT")return`Descuento fijo: ${this.formatAmount(e.value||0)}`;if(e.discount_type==="PERCENTAGE"){let t=e.max_amount?` (m\xE1x: ${this.formatAmount(e.max_amount)})`:"";return`Descuento: ${e.value||0}%${t}`}else if(e.discount_type==="PRICING_PROFILE"){let t=[];return e.minute_value&&t.push(`Min: ${this.formatAmount(e.minute_value)}`),e.min_amount&&t.push(`M\xEDn: ${this.formatAmount(e.min_amount)}`),t.length>0?t.join(", "):"Perfil personalizado"}return"-"}printExitTicket(e,t){this.quote&&this.printerService.printExitTicket(e,this.quote,t).pipe(f(this._unsubscribeAll)).subscribe({next:n=>{n.printed?this.snackBar.open("Ticket de salida impreso exitosamente","Cerrar",{duration:3e3}):this.snackBar.open(n.message,"Cerrar",{duration:5e3})},error:n=>{console.error("Error printing exit ticket:",n),this.snackBar.open("Error al imprimir ticket de salida","Cerrar",{duration:3e3})}})}static{this.\u0275fac=function(t){return new(t||a)(h(N),h(V),h(ie),h(fe),h(xe),h(_e),h(ue),h(U),h(B))}}static{this.\u0275cmp=I({type:a,selectors:[["app-checkout"]],decls:11,vars:4,consts:[[1,"max-w-7xl","mx-auto","p-6"],[1,"flex","justify-between","items-center","mb-6"],[1,"text-2xl","font-bold","text-gray-900"],[1,"text-gray-600"],["mat-raised-button","","color","primary","class","rounded-sm",3,"click",4,"ngIf"],["class","text-center py-8",4,"ngIf"],["class","grid grid-cols-1 lg:grid-cols-5 gap-6",4,"ngIf"],["mat-raised-button","","color","primary",1,"rounded-sm",3,"click"],[1,"text-center","py-8"],["diameter","40"],[1,"mt-4","text-gray-600"],[1,"text-red-500","text-6xl","mb-4"],[1,"text-xl","font-semibold","text-gray-900","mb-2"],[1,"text-gray-600","mb-4"],[1,"grid","grid-cols-1","lg:grid-cols-5","gap-6"],[1,"lg:col-span-2"],[1,"p-6"],[1,"text-lg","font-semibold","text-gray-900","mb-4"],[1,"space-y-4"],[1,"text-sm","font-medium","text-gray-500"],[1,"text-gray-900"],[1,"text-gray-900","font-mono","text-lg"],[1,"px-2","py-1","rounded","text-xs","font-medium","bg-green-100","text-green-800"],[4,"ngIf"],[1,"lg:col-span-3"],[1,"p-6","text-center"],["diameter","30"],[1,"mb-6","p-4","bg-gray-50","rounded-lg","border","border-gray-200",3,"formGroup"],[1,"text-sm","font-medium","text-gray-700","mb-2","block"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-3"],["appearance","outline",1,"w-full"],["formControlName","discount_id","placeholder","Ninguno",3,"selectionChange"],[3,"value"],[3,"value",4,"ngFor","ngForOf"],[1,"flex","items-end"],["appearance","outline",1,"flex-1"],["matInput","","formControlName","discount_code","placeholder","O ingresa c\xF3digo"],["mat-icon-button","","matSuffix","","matTooltip","Aplicar c\xF3digo",3,"click","disabled"],[1,"grid","grid-cols-1","gap-4","mb-4",3,"ngClass"],[1,"bg-gray-50","rounded-lg","p-3"],[1,"text-lg","font-semibold","text-gray-900","text-center"],["class","bg-gray-50 rounded-lg p-3",4,"ngIf"],["class","bg-gradient-to-br from-blue-50 to-blue-100 border border-blue-300 rounded-lg p-4 shadow-sm",4,"ngIf"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-4","mb-4"],[1,"text-lg","font-semibold","text-gray-900"],[1,"bg-primary-50","border","border-primary-200","rounded-lg","p-3"],[1,"text-sm","font-medium","text-primary-700"],[1,"text-2xl","font-bold","text-primary-900"],["class","text-xs text-green-600 mt-1",4,"ngIf"],["class","mt-4",4,"ngIf"],[1,"flex","flex-col"],[1,"font-medium"],[1,"text-xs","text-gray-500"],[1,"text-lg","font-semibold","text-orange-600","text-center"],[1,"bg-gradient-to-br","from-blue-50","to-blue-100","border","border-blue-300","rounded-lg","p-4","shadow-sm"],[1,"flex","items-center","gap-2","mb-2"],[1,"text-blue-600","text-lg"],[1,"text-sm","font-semibold","text-blue-800"],[1,"text-base","font-bold","text-blue-900","mb-1"],["class","text-xs text-blue-700 line-clamp-2",4,"ngIf"],[1,"text-xs","text-blue-700","line-clamp-2"],[1,"text-xs","text-green-600","mt-1"],[1,"mt-4"],["type","button",1,"flex","items-center","justify-between","w-full","text-sm","font-semibold","text-gray-700","mb-2","p-2","rounded","hover:bg-gray-100","transition-colors",3,"click"],[1,"text-gray-500",2,"transition","transform 0.2s ease"],["class","space-y-2",4,"ngIf"],[1,"space-y-2"],["class","flex justify-between items-center text-sm bg-white p-2 rounded border",3,"class",4,"ngFor","ngForOf"],[1,"flex","justify-between","items-center","text-sm","bg-white","p-2","rounded","border"]],template:function(t,n){t&1&&(o(0,"div",0)(1,"div",1)(2,"div")(3,"h1",2),r(4,"Checkout de Sesi\xF3n"),i(),o(5,"p",3),r(6,"Finalizar sesi\xF3n de estacionamiento"),i()(),p(7,Se,4,0,"button",4),i(),p(8,ye,4,0,"div",5)(9,Ee,11,1,"div",5)(10,Be,46,10,"div",6),i()),t&2&&(s(7),l("ngIf",n.session&&!n.loading&&n.quote),s(),l("ngIf",n.loading),s(),l("ngIf",n.error),s(),l("ngIf",n.session&&!n.loading))},dependencies:[T,F,w,q,ne,X,Y,Z,ee,te,z,H,G,W,Q,pe,R,O,$,L,re,oe,de,me,P,le,se,ce,ae,ge,j,K,J,he],encapsulation:2})}}return a})();export{vt as CheckoutComponent};
