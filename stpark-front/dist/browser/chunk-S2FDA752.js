import{a as Ae}from"./chunk-3GQCKAZ7.js";import{a as ge,b as ve,c as xe,d as he}from"./chunk-EEUJEGPN.js";import{c as ze}from"./chunk-ICPS6N2F.js";import{a as De,b as Ve,c as je,d as k,e as Fe,f as Re,g as Be}from"./chunk-TU7IT4N6.js";import{a as Ie,b as be,c as Ce,d as Se,e as ye,f as we,g as Ee,h as Me,i as Pe,j as ke,k as Te}from"./chunk-Y6UNS2UZ.js";import{a as _e,c as ue,f as fe}from"./chunk-N7KP3IEB.js";import{a as de,b as me}from"./chunk-FSRW5HPF.js";import{d as ee}from"./chunk-IDWAZBHT.js";import"./chunk-FSA3IEFI.js";import{b as pe}from"./chunk-POSCZER2.js";import{c as N,h as q}from"./chunk-65NYBKEE.js";import"./chunk-ECYJLMJT.js";import"./chunk-LEYETUYV.js";import"./chunk-VKB6BRO6.js";import{b as Z,c as $}from"./chunk-IMRKXFOQ.js";import{d as re,e as le}from"./chunk-5Q7CCL6V.js";import{b as U,f as Q,j as G,k as J}from"./chunk-K3BNOLHS.js";import{a as ce,b as se}from"./chunk-CWSZZ2DY.js";import{b as te,f as ie,j as ne,v as oe,z as ae}from"./chunk-ZTFUS4RN.js";import{la as K,na as X,oa as Y}from"./chunk-QQQ5XT6I.js";import"./chunk-YXFY4UXK.js";import{d as O}from"./chunk-FFRRSTTN.js";import"./chunk-EARUC3FY.js";import{l as W,m as L,s as H}from"./chunk-BAM5RHC5.js";import{$b as v,Eb as s,Ib as T,Pb as i,Qb as t,Rb as C,Sb as h,Tb as I,U as M,Vb as b,bb as a,bc as d,cb as P,f as j,fc as R,gc as z,hc as B,lc as D,mc as o,nc as g,oa as p,oc as S,pa as _,pb as F,rc as y,sc as w,tc as E,uc as A,wb as f}from"./chunk-MLNNMN4J.js";import{a as V}from"./chunk-TSRGIXR5.js";function We(n,c){n&1&&(i(0,"div",21),C(1,"mat-spinner",22),t())}function Le(n,c){n&1&&(i(0,"th",46),o(1,"Folio"),t())}function He(n,c){if(n&1&&(i(0,"td",47)(1,"span",48),o(2),t()()),n&2){let e=c.$implicit;a(2),g(e.folio||"Sin folio")}}function Oe(n,c){n&1&&(i(0,"th",49),o(1,"Estacionamiento"),t())}function Ne(n,c){if(n&1&&(i(0,"td",47)(1,"span",50),o(2),t()()),n&2){let e=c.$implicit;a(2),g(e.tenant_name||(e.tenant==null?null:e.tenant.name)||"N/A")}}function qe(n,c){n&1&&(i(0,"th",51),o(1,"Cliente"),t())}function Ue(n,c){if(n&1&&(i(0,"td",47)(1,"span",52),o(2),t()()),n&2){let e=c.$implicit;a(2),g(e.client_name)}}function Qe(n,c){n&1&&(i(0,"th",53),o(1,"RUT Cliente"),t())}function Ge(n,c){if(n&1&&(i(0,"td",47)(1,"span",54),o(2),t()()),n&2){let e=c.$implicit,l=d(2);a(2),g(l.formatRut(e.client_rut))}}function Je(n,c){n&1&&(i(0,"th",55),o(1,"Fecha de Emisi\xF3n"),t())}function Ke(n,c){if(n&1&&(i(0,"td",47),o(1),t()),n&2){let e=c.$implicit,l=d(2);a(),S(" ",l.formatDate(e.emission_date)," ")}}function Xe(n,c){n&1&&(i(0,"th",56),o(1,"Monto Total"),t())}function Ye(n,c){if(n&1&&(i(0,"td",47)(1,"span",57),o(2),t()()),n&2){let e=c.$implicit,l=d(2);a(2),S(" ",l.formatAmount(e.total_amount)," ")}}function Ze(n,c){n&1&&(i(0,"th",58),o(1,"Estado"),t())}function $e(n,c){if(n&1&&(i(0,"td",47)(1,"span",59),o(2),t()()),n&2){let e=c.$implicit,l=d(2);a(),T("bg-"+l.getStatusColor(e.status)+"-100 text-"+l.getStatusColor(e.status)+"-800"),a(),S(" ",l.getStatusLabel(e.status)," ")}}function et(n,c){n&1&&(i(0,"th",49),o(1,"Acciones"),t())}function tt(n,c){if(n&1){let e=b();i(0,"td",47)(1,"div",60)(2,"button",61),v("click",function(){let r=p(e).$implicit,m=d(2);return _(m.acceptInvoice(r))}),i(3,"mat-icon",62),o(4,"check"),t(),i(5,"span",63),o(6,"Aceptar"),t()(),i(7,"button",64),v("click",function(){let r=p(e).$implicit,m=d(2);return _(m.openRejectModal(r))}),i(8,"mat-icon",62),o(9,"close"),t(),i(10,"span",63),o(11,"Rechazar"),t()(),i(12,"button",65),v("click",function(){let r=p(e).$implicit,m=d(2);return _(m.showInvoiceDetails(r))}),i(13,"mat-icon"),o(14,"visibility"),t()()()()}if(n&2){let e=d(2);a(2),s("disabled",e.loading),a(5),s("disabled",e.loading)}}function it(n,c){n&1&&C(0,"tr",66)}function nt(n,c){n&1&&C(0,"tr",67)}function ot(n,c){n&1&&(i(0,"div",68)(1,"mat-icon",69),o(2,"pending_actions"),t(),i(3,"h3",70),o(4,"No hay facturas pendientes"),t(),i(5,"p",71),o(6,"Todas las facturas han sido revisadas."),t()())}function at(n,c){if(n&1){let e=b();i(0,"mat-paginator",72),v("page",function(r){p(e);let m=d(2);return _(m.onPageChange(r))}),t()}if(n&2){let e=d(2);s("length",e.totalItems)("pageSize",e.pageSize)("pageIndex",e.currentPage)("pageSizeOptions",e.pageSizeOptions)("showFirstLastButtons",!0)}}function rt(n,c){if(n&1&&(i(0,"mat-card")(1,"mat-card-content",23)(2,"div",24)(3,"table",25),h(4,26),f(5,Le,2,0,"th",27)(6,He,3,1,"td",28),I(),h(7,29),f(8,Oe,2,0,"th",30)(9,Ne,3,1,"td",28),I(),h(10,31),f(11,qe,2,0,"th",32)(12,Ue,3,1,"td",28),I(),h(13,33),f(14,Qe,2,0,"th",34)(15,Ge,3,1,"td",28),I(),h(16,35),f(17,Je,2,0,"th",36)(18,Ke,2,1,"td",28),I(),h(19,37),f(20,Xe,2,0,"th",38)(21,Ye,3,1,"td",28),I(),h(22,39),f(23,Ze,2,0,"th",40)(24,$e,3,3,"td",28),I(),h(25,41),f(26,et,2,0,"th",30)(27,tt,15,2,"td",28),I(),f(28,it,1,0,"tr",42)(29,nt,1,0,"tr",43),t(),f(30,ot,7,0,"div",44),t(),f(31,at,1,5,"mat-paginator",45),t()()),n&2){let e=d();a(3),s("dataSource",e.invoices)("matSortActive",e.sortBy)("matSortDirection",e.sortOrder),a(25),s("matHeaderRowDef",e.displayedColumns),a(),s("matRowDefColumns",e.displayedColumns),a(),s("ngIf",!e.loading&&e.invoices.length===0),a(),s("ngIf",e.totalItems>0)}}function lt(n,c){n&1&&(i(0,"div",79),C(1,"mat-spinner",22),t())}function ct(n,c){if(n&1){let e=b();i(0,"div",80)(1,"div")(2,"h2",4),o(3,"Detalle de Factura"),t(),i(4,"p",81),o(5),t()(),i(6,"button",82),v("click",function(){p(e);let r=d(2);return _(r.closeDetailsModal())}),i(7,"mat-icon"),o(8,"close"),t()()()}if(n&2){let e=d(2);a(5),S("Folio: ",e.selectedInvoice.folio||"Sin folio (pendiente de emisi\xF3n)","")}}function st(n,c){if(n&1&&(i(0,"div")(1,"p",86),o(2,"Estacionamiento"),t(),i(3,"p",57),o(4),t()()),n&2){let e=d(3);a(4),g(e.selectedInvoice.tenant_name||(e.selectedInvoice.tenant==null?null:e.selectedInvoice.tenant.name))}}function dt(n,c){if(n&1&&(i(0,"tr",108)(1,"td",109),o(2),t(),i(3,"td",110),o(4),t(),i(5,"td",111),o(6),t(),i(7,"td",112),o(8),t()()),n&2){let e=c.$implicit,l=d(4);a(2),g(e.description),a(2),g(e.quantity),a(2),g(l.formatAmount(e.unit_price)),a(2),g(l.formatAmount(e.subtotal))}}function mt(n,c){if(n&1&&(i(0,"div",24)(1,"table",102)(2,"thead")(3,"tr",103)(4,"th",104),o(5,"Descripci\xF3n"),t(),i(6,"th",105),o(7,"Cantidad"),t(),i(8,"th",106),o(9,"Precio Unitario"),t(),i(10,"th",106),o(11,"Subtotal (Neto)"),t()()(),i(12,"tbody"),f(13,dt,9,4,"tr",107),t()()()),n&2){let e=d(3);a(13),s("ngForOf",e.selectedInvoice.items)}}function pt(n,c){n&1&&(i(0,"div",113)(1,"mat-icon",114),o(2,"inventory_2"),t(),i(3,"p",71),o(4,"No hay items registrados en esta factura"),t()())}function _t(n,c){if(n&1&&(i(0,"div",115)(1,"p",116),o(2,"Notas:"),t(),i(3,"p",117),o(4),t()()),n&2){let e=d(3);a(4),g(e.selectedInvoice.notes)}}function ut(n,c){if(n&1&&(i(0,"div",83)(1,"div",7)(2,"h3",84),o(3,"Informaci\xF3n General"),t(),i(4,"div",85)(5,"div")(6,"p",86),o(7,"Estado"),t(),i(8,"span",87),o(9),t()(),f(10,st,5,1,"div",19),i(11,"div")(12,"p",86),o(13,"Cliente"),t(),i(14,"p",88),o(15),t()(),i(16,"div")(17,"p",86),o(18,"RUT Cliente"),t(),i(19,"p",89),o(20),t()(),i(21,"div")(22,"p",86),o(23,"Fecha Emisi\xF3n"),t(),i(24,"p",88),o(25),t()()()(),i(26,"div",7)(27,"h3",84),o(28,"Detalle de Items"),t(),f(29,mt,14,1,"div",90)(30,pt,5,0,"div",91),t(),i(31,"div",92)(32,"div",93)(33,"div",94)(34,"div",95)(35,"span",96),o(36,"Monto Neto:"),t(),i(37,"span",97),o(38),t()(),i(39,"div",95)(40,"span",96),o(41,"IVA:"),t(),i(42,"span",97),o(43),t()(),i(44,"div",98)(45,"span",99),o(46,"Total:"),t(),i(47,"span",100),o(48),t()()()()(),f(49,_t,5,1,"div",101),t()),n&2){let e=d(2);a(8),T("bg-"+e.getStatusColor(e.selectedInvoice.status)+"-100 text-"+e.getStatusColor(e.selectedInvoice.status)+"-800"),a(),S(" ",e.getStatusLabel(e.selectedInvoice.status)," "),a(),s("ngIf",e.selectedInvoice.tenant_name||(e.selectedInvoice.tenant==null?null:e.selectedInvoice.tenant.name)),a(5),g(e.selectedInvoice.client_name),a(5),g(e.formatRut(e.selectedInvoice.client_rut)),a(5),g(e.formatDate(e.selectedInvoice.emission_date)),a(4),s("ngIf",e.selectedInvoice.items&&e.selectedInvoice.items.length>0),a(),s("ngIf",!e.selectedInvoice.items||e.selectedInvoice.items.length===0),a(8),g(e.formatAmount(e.selectedInvoice.net_amount)),a(5),g(e.formatAmount(e.selectedInvoice.iva_amount)),a(5),g(e.formatAmount(e.selectedInvoice.total_amount)),a(),s("ngIf",e.selectedInvoice.notes)}}function ft(n,c){if(n&1){let e=b();i(0,"div",118)(1,"button",6),v("click",function(){p(e);let r=d(2);return _(r.closeDetailsModal())}),o(2," Cerrar "),t()()}}function gt(n,c){if(n&1){let e=b();i(0,"div",73),v("click",function(){p(e);let r=d();return _(r.closeDetailsModal())}),i(1,"div",74),v("click",function(r){return p(e),_(r.stopPropagation())}),f(2,lt,2,0,"div",75)(3,ct,9,1,"div",76)(4,ut,50,13,"div",77)(5,ft,3,0,"div",78),t()()}if(n&2){let e=d();a(2),s("ngIf",e.loadingDetails),a(),s("ngIf",!e.loadingDetails&&e.selectedInvoice),a(),s("ngIf",!e.loadingDetails&&e.selectedInvoice),a(),s("ngIf",!e.loadingDetails&&e.selectedInvoice)}}function vt(n,c){if(n&1&&(i(0,"p",81),o(1),t()),n&2){let e=d(2);a(),S("Folio: ",e.selectedInvoice.folio||"Sin folio (pendiente de emisi\xF3n)","")}}function xt(n,c){if(n&1){let e=b();i(0,"div",73),v("click",function(){p(e);let r=d();return _(r.closeRejectModal())}),i(1,"div",119),v("click",function(r){return p(e),_(r.stopPropagation())}),i(2,"div",120)(3,"h2",4),o(4,"Rechazar Factura"),t(),f(5,vt,2,1,"p",121),t(),i(6,"div",8)(7,"mat-form-field",122)(8,"mat-label"),o(9,"Motivo del rechazo"),t(),i(10,"textarea",123),E("ngModelChange",function(r){p(e);let m=d();return w(m.rejectReason,r)||(m.rejectReason=r),_(r)}),t()()(),i(11,"div",124)(12,"button",125),v("click",function(){p(e);let r=d();return _(r.closeRejectModal())}),o(13," Cancelar "),t(),i(14,"button",126),v("click",function(){p(e);let r=d();return _(r.rejectInvoice())}),i(15,"mat-icon"),o(16,"close"),t(),o(17," Rechazar Factura "),t()()()()}if(n&2){let e=d();a(5),s("ngIf",e.selectedInvoice),a(5),y("ngModel",e.rejectReason),a(2),s("disabled",e.loading),a(2),s("disabled",e.loading||!e.rejectReason||e.rejectReason.trim().length===0)}}var ti=(()=>{class n{constructor(e,l,r,m){this.invoiceService=e,this.router=l,this.dialog=r,this.snackBar=m,this._unsubscribeAll=new j,this.invoices=[],this.loading=!1,this.displayedColumns=["folio","tenant_name","client_name","client_rut","emission_date","total_amount","status","actions"],this.showDetailsModal=!1,this.showRejectModal=!1,this.selectedInvoice=null,this.loadingDetails=!1,this.rejectReason="",this.totalItems=0,this.pageSize=10,this.currentPage=0,this.pageSizeOptions=[5,10,25,50],this.sortBy="created_at",this.sortOrder="desc",this.filters={folio:"",client_name:"",client_rut:"",emission_date_from:"",emission_date_to:""}}ngOnInit(){this.loadPendingInvoices()}ngAfterViewInit(){this.sort&&this.sort.sortChange.pipe(M(this._unsubscribeAll)).subscribe(e=>{this.sortBy=e.active,this.sortOrder=e.direction==="asc"?"asc":"desc",this.currentPage=0,this.loadPendingInvoices()})}ngOnDestroy(){this._unsubscribeAll.next(null),this._unsubscribeAll.complete()}loadPendingInvoices(){this.loading=!0;let e=V({page:this.currentPage+1,per_page:this.pageSize,sort_by:this.sortBy,sort_order:this.sortOrder},this.filters);this.invoiceService.getPendingInvoices(e).pipe(M(this._unsubscribeAll)).subscribe({next:l=>{this.invoices=l.data?.data||[],this.totalItems=l.data?.total||0,this.loading=!1},error:l=>{console.error("Error loading pending invoices:",l),this.snackBar.open("Error al cargar facturas pendientes","Cerrar",{duration:3e3}),this.loading=!1}})}formatAmount(e){return this.invoiceService.formatAmount(e)}formatDate(e){return this.invoiceService.formatDate(e)}formatRut(e){return this.invoiceService.formatRut(e)}getStatusColor(e){return this.invoiceService.getStatusColor(e)}getStatusLabel(e){return this.invoiceService.getStatusLabel(e)}onPageChange(e){this.currentPage=e.pageIndex,this.pageSize=e.pageSize,this.loadPendingInvoices()}applyFilters(){this.currentPage=0,this.loadPendingInvoices()}clearFilters(){this.filters={folio:"",client_name:"",client_rut:"",emission_date_from:"",emission_date_to:""},this.currentPage=0,this.loadPendingInvoices()}showInvoiceDetails(e){this.showDetailsModal=!0,this.loadingDetails=!0,this.selectedInvoice=null,this.invoiceService.getInvoice(e.id).pipe(M(this._unsubscribeAll)).subscribe({next:l=>{this.selectedInvoice=l.data,this.loadingDetails=!1},error:l=>{console.error("Error loading invoice details:",l),this.loadingDetails=!1,this.closeDetailsModal()}})}closeDetailsModal(){this.showDetailsModal=!1,this.selectedInvoice=null,this.loadingDetails=!1}openRejectModal(e){this.selectedInvoice=e,this.rejectReason="",this.showRejectModal=!0}closeRejectModal(){this.showRejectModal=!1,this.selectedInvoice=null,this.rejectReason=""}acceptInvoice(e){confirm("\xBFEst\xE1 seguro de que desea aceptar y emitir esta factura en el SII?")&&(this.loading=!0,this.invoiceService.acceptInvoice(e.id).pipe(M(this._unsubscribeAll)).subscribe({next:l=>{this.snackBar.open("Factura aceptada y emitida exitosamente","Cerrar",{duration:3e3}),this.loadPendingInvoices()},error:l=>{console.error("Error accepting invoice:",l),this.snackBar.open("Error al aceptar factura: "+(l.error?.message||"Error desconocido"),"Cerrar",{duration:5e3}),this.loading=!1}}))}rejectInvoice(){if(this.selectedInvoice){if(!this.rejectReason||this.rejectReason.trim().length===0){this.snackBar.open("Debe ingresar un motivo para rechazar la factura","Cerrar",{duration:3e3});return}this.loading=!0,this.invoiceService.rejectInvoice(this.selectedInvoice.id,this.rejectReason).pipe(M(this._unsubscribeAll)).subscribe({next:e=>{this.snackBar.open("Factura rechazada exitosamente","Cerrar",{duration:3e3}),this.closeRejectModal(),this.loadPendingInvoices()},error:e=>{console.error("Error rejecting invoice:",e),this.snackBar.open("Error al rechazar factura: "+(e.error?.message||"Error desconocido"),"Cerrar",{duration:5e3}),this.loading=!1}})}}goToInvoices(){this.router.navigate(["/central-admin/invoices"])}static{this.\u0275fac=function(l){return new(l||n)(P(Ae),P(O),P(N),P(de))}}static{this.\u0275cmp=F({type:n,selectors:[["app-pending-invoices"]],viewQuery:function(l,r){if(l&1&&R(k,5),l&2){let m;z(m=B())&&(r.sort=m.first)}},features:[A([{provide:De,useValue:Be()}])],decls:53,vars:13,consts:[["pickerFrom",""],["pickerTo",""],[1,"p-6","w-full"],[1,"mb-6","flex","justify-between","items-center"],[1,"text-2xl","font-bold","text-gray-900"],[1,"text-gray-600"],["mat-stroked-button","",1,"no-rounded",3,"click"],[1,"mb-6"],[1,"p-6"],[1,"grid","grid-cols-1","md:grid-cols-3","gap-4"],["appearance","outline"],["matInput","","placeholder","Buscar por folio",3,"ngModelChange","ngModel"],["matInput","","placeholder","Nombre del cliente",3,"ngModelChange","ngModel"],["matInput","","placeholder","RUT del cliente",3,"ngModelChange","ngModel"],["matInput","",3,"ngModelChange","matDatepicker","ngModel"],["matSuffix","",3,"for"],[1,"flex","justify-end","gap-2","mt-4"],["mat-raised-button","","color","primary",1,"no-rounded",3,"click"],["class","flex justify-center items-center h-64",4,"ngIf"],[4,"ngIf"],["class","fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",3,"click",4,"ngIf"],[1,"flex","justify-center","items-center","h-64"],["diameter","50"],[1,"p-0"],[1,"overflow-x-auto"],["mat-table","","matSort","",1,"w-full",3,"dataSource","matSortActive","matSortDirection"],["matColumnDef","folio"],["mat-header-cell","","mat-sort-header","folio",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","tenant_name"],["mat-header-cell","",4,"matHeaderCellDef"],["matColumnDef","client_name"],["mat-header-cell","","mat-sort-header","client_name",4,"matHeaderCellDef"],["matColumnDef","client_rut"],["mat-header-cell","","mat-sort-header","client_rut",4,"matHeaderCellDef"],["matColumnDef","emission_date"],["mat-header-cell","","mat-sort-header","emission_date",4,"matHeaderCellDef"],["matColumnDef","total_amount"],["mat-header-cell","","mat-sort-header","total_amount",4,"matHeaderCellDef"],["matColumnDef","status"],["mat-header-cell","","mat-sort-header","status",4,"matHeaderCellDef"],["matColumnDef","actions"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","text-center py-8",4,"ngIf"],["class","mt-4",3,"length","pageSize","pageIndex","pageSizeOptions","showFirstLastButtons","page",4,"ngIf"],["mat-header-cell","","mat-sort-header","folio"],["mat-cell",""],[1,"font-mono","font-semibold","text-gray-500"],["mat-header-cell",""],[1,"font-medium","text-blue-600"],["mat-header-cell","","mat-sort-header","client_name"],[1,"font-medium"],["mat-header-cell","","mat-sort-header","client_rut"],[1,"font-mono"],["mat-header-cell","","mat-sort-header","emission_date"],["mat-header-cell","","mat-sort-header","total_amount"],[1,"font-semibold","text-blue-600"],["mat-header-cell","","mat-sort-header","status"],[1,"px-2","py-1","rounded-full","text-xs","font-medium"],[1,"flex","gap-1"],["mat-raised-button","","color","primary",1,"no-rounded","compact-button",3,"click","disabled"],[1,"compact-icon"],[1,"compact-text"],["mat-raised-button","","color","warn",1,"no-rounded","compact-button",3,"click","disabled"],["mat-icon-button","",1,"compact-icon-button",3,"click"],["mat-header-row",""],["mat-row",""],[1,"text-center","py-8"],[1,"text-gray-400","text-6xl"],[1,"text-lg","font-medium","text-gray-900","mt-4"],[1,"text-gray-500"],[1,"mt-4",3,"page","length","pageSize","pageIndex","pageSizeOptions","showFirstLastButtons"],[1,"fixed","inset-0","bg-black","bg-opacity-50","flex","items-center","justify-center","z-50",3,"click"],[1,"bg-white","rounded-lg","shadow-xl","max-w-4xl","w-full","mx-4","max-h-[90vh]","flex","flex-col",3,"click"],["class","flex justify-center items-center p-12",4,"ngIf"],["class","flex justify-between items-center p-6 border-b bg-white sticky top-0 z-10",4,"ngIf"],["class","p-6 overflow-y-auto flex-1",4,"ngIf"],["class","flex justify-end gap-3 p-6 pt-4 border-t border-gray-200 bg-white sticky bottom-0",4,"ngIf"],[1,"flex","justify-center","items-center","p-12"],[1,"flex","justify-between","items-center","p-6","border-b","bg-white","sticky","top-0","z-10"],[1,"text-sm","text-gray-500","mt-1"],["mat-icon-button","",1,"text-gray-500","hover:text-gray-700",3,"click"],[1,"p-6","overflow-y-auto","flex-1"],[1,"text-lg","font-semibold","mb-4","text-gray-900"],[1,"grid","grid-cols-2","gap-4"],[1,"text-sm","text-gray-600","mb-1"],[1,"px-3","py-1","rounded-full","text-xs","font-medium","inline-block"],[1,"font-semibold"],[1,"font-semibold","font-mono"],["class","overflow-x-auto",4,"ngIf"],["class","text-center py-8 bg-gray-50 rounded border border-gray-200",4,"ngIf"],[1,"border-t-2","border-gray-300","pt-4","mb-6"],[1,"flex","justify-end"],[1,"w-80"],[1,"flex","justify-between","mb-3"],[1,"text-gray-600","font-medium"],[1,"font-semibold","text-gray-900"],[1,"flex","justify-between","text-lg","font-bold","border-t-2","border-gray-300","pt-3"],[1,"text-gray-900"],[1,"text-blue-600"],["class","p-4 bg-gray-50 rounded-lg border border-gray-200",4,"ngIf"],[1,"w-full","border-collapse","border","border-gray-300"],[1,"bg-gray-100"],[1,"border","border-gray-300","p-3","text-left","text-sm","font-semibold","text-gray-700"],[1,"border","border-gray-300","p-3","text-center","text-sm","font-semibold","text-gray-700"],[1,"border","border-gray-300","p-3","text-right","text-sm","font-semibold","text-gray-700"],["class","hover:bg-gray-50",4,"ngFor","ngForOf"],[1,"hover:bg-gray-50"],[1,"border","border-gray-300","p-3"],[1,"border","border-gray-300","p-3","text-center"],[1,"border","border-gray-300","p-3","text-right"],[1,"border","border-gray-300","p-3","text-right","font-semibold"],[1,"text-center","py-8","bg-gray-50","rounded","border","border-gray-200"],[1,"text-gray-400","text-4xl","mb-2"],[1,"p-4","bg-gray-50","rounded-lg","border","border-gray-200"],[1,"text-sm","font-semibold","text-gray-700","mb-2"],[1,"text-sm","text-gray-600","whitespace-pre-wrap"],[1,"flex","justify-end","gap-3","p-6","pt-4","border-t","border-gray-200","bg-white","sticky","bottom-0"],[1,"bg-white","rounded-lg","shadow-xl","max-w-2xl","w-full","mx-4",3,"click"],[1,"p-6","border-b"],["class","text-sm text-gray-500 mt-1",4,"ngIf"],["appearance","outline",1,"w-full"],["matInput","","rows","4","placeholder","Ingrese el motivo por el cual se rechaza esta factura...","required","",3,"ngModelChange","ngModel"],[1,"flex","justify-end","gap-3","p-6","pt-4","border-t","border-gray-200"],["mat-stroked-button","",1,"no-rounded",3,"click","disabled"],["mat-raised-button","","color","warn",1,"no-rounded",3,"click","disabled"]],template:function(l,r){if(l&1){let m=b();i(0,"div",2)(1,"div",3)(2,"div")(3,"h1",4),o(4,"Facturas Pendientes de Revisi\xF3n"),t(),i(5,"p",5),o(6,"Facturas que requieren aprobaci\xF3n antes de ser emitidas en el SII"),t()(),i(7,"button",6),v("click",function(){return p(m),_(r.goToInvoices())}),i(8,"mat-icon"),o(9,"arrow_back"),t(),o(10," Volver a Facturas "),t()(),i(11,"mat-card",7)(12,"mat-card-content",8)(13,"div",9)(14,"mat-form-field",10)(15,"mat-label"),o(16,"Folio"),t(),i(17,"input",11),E("ngModelChange",function(u){return p(m),w(r.filters.folio,u)||(r.filters.folio=u),_(u)}),t()(),i(18,"mat-form-field",10)(19,"mat-label"),o(20,"Cliente"),t(),i(21,"input",12),E("ngModelChange",function(u){return p(m),w(r.filters.client_name,u)||(r.filters.client_name=u),_(u)}),t()(),i(22,"mat-form-field",10)(23,"mat-label"),o(24,"RUT Cliente"),t(),i(25,"input",13),E("ngModelChange",function(u){return p(m),w(r.filters.client_rut,u)||(r.filters.client_rut=u),_(u)}),t()(),i(26,"mat-form-field",10)(27,"mat-label"),o(28,"Fecha desde"),t(),i(29,"input",14),E("ngModelChange",function(u){return p(m),w(r.filters.emission_date_from,u)||(r.filters.emission_date_from=u),_(u)}),t(),C(30,"mat-datepicker-toggle",15)(31,"mat-datepicker",null,0),t(),i(33,"mat-form-field",10)(34,"mat-label"),o(35,"Fecha hasta"),t(),i(36,"input",14),E("ngModelChange",function(u){return p(m),w(r.filters.emission_date_to,u)||(r.filters.emission_date_to=u),_(u)}),t(),C(37,"mat-datepicker-toggle",15)(38,"mat-datepicker",null,1),t()(),i(40,"div",16)(41,"button",6),v("click",function(){return p(m),_(r.clearFilters())}),i(42,"mat-icon"),o(43,"clear"),t(),o(44," Limpiar "),t(),i(45,"button",17),v("click",function(){return p(m),_(r.applyFilters())}),i(46,"mat-icon"),o(47,"search"),t(),o(48," Filtrar "),t()()()(),f(49,We,2,0,"div",18)(50,rt,32,7,"mat-card",19)(51,gt,6,4,"div",20)(52,xt,18,4,"div",20),t()}if(l&2){let m=D(32),x=D(39);a(17),y("ngModel",r.filters.folio),a(4),y("ngModel",r.filters.client_name),a(4),y("ngModel",r.filters.client_rut),a(4),s("matDatepicker",m),y("ngModel",r.filters.emission_date_from),a(),s("for",m),a(6),s("matDatepicker",x),y("ngModel",r.filters.emission_date_to),a(),s("for",x),a(12),s("ngIf",r.loading),a(),s("ngIf",!r.loading),a(),s("ngIf",r.showDetailsModal),a(),s("ngIf",r.showRejectModal)}},dependencies:[H,W,L,ae,te,ie,oe,ne,Te,Ie,Ce,Ee,Se,be,Me,ye,we,Pe,ke,fe,_e,ue,Y,K,X,$,Z,se,ce,J,G,U,Q,le,re,he,ge,ve,xe,pe,ee,ze,je,Ve,Re,k,Fe,q,me],styles:[".no-rounded{border-radius:0!important}  .compact-button{padding:4px 12px!important;min-width:auto!important;line-height:1.2!important;font-size:12px!important}  .compact-button .compact-icon{font-size:18px!important;width:18px!important;height:18px!important;margin-right:4px!important}  .compact-button .compact-text{font-size:12px!important}  .compact-icon-button{width:32px!important;height:32px!important;padding:0!important}  .compact-icon-button mat-icon{font-size:18px!important;width:18px!important;height:18px!important}"]})}}return n})();export{ti as PendingInvoicesComponent};
