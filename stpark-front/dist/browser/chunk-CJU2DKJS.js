import{a as _e}from"./chunk-IGTKWB6A.js";import{a as Fe}from"./chunk-QU4WFXUG.js";import{a as ke}from"./chunk-ZMZZWBL4.js";import{a as ue,b as fe,c as he,d as ge,e as xe,f as ve,g as Re,h as Se,i as Ce,j as ye,k as be}from"./chunk-CCGP22DJ.js";import{a as Ee,b as Te,c as Me,d as De,e as we,f as Ie}from"./chunk-NB6DWIHZ.js";import{a as le,b as de,c as pe,d as se}from"./chunk-VOI6ZFOM.js";import{a as me,b as ce}from"./chunk-F3KLSFSR.js";import{b as Z}from"./chunk-CSAVAYTO.js";import"./chunk-LKYHZS4A.js";import"./chunk-VKB6BRO6.js";import{b as Q,c as X}from"./chunk-7EGXZGVT.js";import{b as ae}from"./chunk-7AXTM6W3.js";import{b as z,f as G,j as q,k as U,o as ne,p as oe}from"./chunk-FMD5N6HP.js";import{b as ee,f as te,j as ie,w as re}from"./chunk-SOR2HQFJ.js";import{W as j,fa as $,la as Y,na as J,oa as K}from"./chunk-AHUY5V3P.js";import"./chunk-CQGOYTFO.js";import"./chunk-7OGW3PNS.js";import{l as H,m as N,p as B,s as L}from"./chunk-TQARHOKX.js";import{$b as S,Eb as d,Fc as T,Gb as I,Hc as M,Lc as W,Pb as i,Qb as r,Rb as v,Sb as u,Tb as f,U as w,Vb as V,bb as a,bc as C,cb as D,f as A,lc as k,mc as n,nc as _,oa as g,oc as F,pa as x,pb as P,pc as O,rc as y,sc as b,tc as E,vc as R,wb as p}from"./chunk-BSJZAB7M.js";import"./chunk-TSRGIXR5.js";var Pe=()=>[],Oe=()=>["operator","plate","started_at","ended_at","sector","duration","amount"],Ae=()=>["plate","sector","operator","principal_amount","status","created_at"];function Ve(e,o){e&1&&v(0,"div",40)}function We(e,o){e&1&&v(0,"div",40)}function He(e,o){e&1&&v(0,"div",40)}function Ne(e,o){if(e&1&&(i(0,"mat-option",34),n(1),r()),e&2){let t=o.$implicit;d("value",t.id),a(),_(t.name)}}function Be(e,o){if(e&1&&(i(0,"mat-option",34),n(1),r()),e&2){let t=o.$implicit;d("value",t.id),a(),_(t.name)}}function Le(e,o){e&1&&(i(0,"span"),n(1,"Resultados - Reporte de Ventas"),r())}function je(e,o){e&1&&(i(0,"span"),n(1,"Resultados - Reporte de Deudas"),r())}function $e(e,o){e&1&&(i(0,"span"),n(1,"Resultados - Reporte por Operador"),r())}function ze(e,o){e&1&&(i(0,"th",63),n(1,"Placa"),r())}function Ge(e,o){if(e&1&&(i(0,"td",64),n(1),r()),e&2){let t=o.$implicit;a(),_(t.plate)}}function qe(e,o){e&1&&(i(0,"th",63),n(1,"Fecha Inicio"),r())}function Ue(e,o){if(e&1&&(i(0,"td",64),n(1),T(2,"date"),r()),e&2){let t=o.$implicit;a(),_(M(2,1,t.started_at,"dd/MM/yyyy HH:mm"))}}function Ye(e,o){e&1&&(i(0,"th",63),n(1,"Fecha Fin"),r())}function Je(e,o){if(e&1&&(i(0,"td",64),n(1),T(2,"date"),r()),e&2){let t=o.$implicit;a(),_(M(2,1,t.ended_at,"dd/MM/yyyy HH:mm"))}}function Ke(e,o){e&1&&(i(0,"th",63),n(1,"Sector"),r())}function Qe(e,o){if(e&1&&(i(0,"td",64),n(1),r()),e&2){let t=o.$implicit;a(),_(t.sector)}}function Xe(e,o){e&1&&(i(0,"th",63),n(1,"Operador"),r())}function Ze(e,o){if(e&1&&(i(0,"td",64),n(1),r()),e&2){let t=o.$implicit;a(),_(t.operator)}}function et(e,o){e&1&&(i(0,"th",63),n(1,"Duraci\xF3n"),r())}function tt(e,o){if(e&1&&(i(0,"td",64),n(1),r()),e&2){let t=o.$implicit;a(),_(t.duration_formatted||"N/A")}}function it(e,o){e&1&&(i(0,"th",63),n(1,"Monto"),r())}function rt(e,o){if(e&1&&(i(0,"td",64),n(1),r()),e&2){let t=o.$implicit,s=C(3);a(),_(s.reportService.formatAmount(t.amount||0))}}function nt(e,o){e&1&&v(0,"tr",65)}function ot(e,o){e&1&&v(0,"tr",66)}function at(e,o){e&1&&(i(0,"div",67)(1,"p",68),n(2,"No hay datos para mostrar"),r()())}function lt(e,o){if(e&1&&(i(0,"div",49)(1,"table",50),u(2,51),p(3,ze,2,0,"th",52)(4,Ge,2,1,"td",53),f(),u(5,54),p(6,qe,2,0,"th",52)(7,Ue,3,4,"td",53),f(),u(8,55),p(9,Ye,2,0,"th",52)(10,Je,3,4,"td",53),f(),u(11,56),p(12,Ke,2,0,"th",52)(13,Qe,2,1,"td",53),f(),u(14,57),p(15,Xe,2,0,"th",52)(16,Ze,2,1,"td",53),f(),u(17,58),p(18,et,2,0,"th",52)(19,tt,2,1,"td",53),f(),u(20,59),p(21,it,2,0,"th",52)(22,rt,2,1,"td",53),f(),p(23,nt,1,0,"tr",60)(24,ot,1,0,"tr",61),r(),p(25,at,3,0,"div",62),r()),e&2){let t=C(2);a(),d("dataSource",t.currentReport.sessions||R(4,Pe)),a(22),d("matHeaderRowDef",R(5,Oe)),a(),d("matRowDefColumns",R(6,Oe)),a(),d("ngIf",!t.currentReport.sessions||t.currentReport.sessions.length===0)}}function dt(e,o){e&1&&(i(0,"th",63),n(1,"Patente"),r())}function pt(e,o){if(e&1&&(i(0,"td",64),n(1),r()),e&2){let t=o.$implicit;a(),_((t.parkingSession==null?null:t.parkingSession.plate)||"N/A")}}function st(e,o){e&1&&(i(0,"th",63),n(1,"Sector"),r())}function mt(e,o){if(e&1&&(i(0,"td",64),n(1),r()),e&2){let t=o.$implicit;a(),_((t.parkingSession==null||t.parkingSession.sector==null?null:t.parkingSession.sector.name)||"N/A")}}function ct(e,o){e&1&&(i(0,"th",63),n(1,"Operador"),r())}function _t(e,o){if(e&1&&(i(0,"td",64),n(1),r()),e&2){let t=o.$implicit;a(),_((t.parkingSession==null||t.parkingSession.operator==null?null:t.parkingSession.operator.name)||"N/A")}}function ut(e,o){e&1&&(i(0,"th",63),n(1,"Monto"),r())}function ft(e,o){if(e&1&&(i(0,"td",64),n(1),r()),e&2){let t=o.$implicit,s=C(3);a(),_(s.reportService.formatAmount(t.principal_amount||0))}}function ht(e,o){e&1&&(i(0,"th",63),n(1,"Estado"),r())}function gt(e,o){e&1&&(i(0,"span",75),n(1,"Pendiente"),r())}function xt(e,o){e&1&&(i(0,"span",76),n(1,"Liquidada"),r())}function vt(e,o){e&1&&(i(0,"span",77),n(1,"Cancelada"),r())}function Rt(e,o){if(e&1&&(i(0,"td",64),p(1,gt,2,0,"span",72)(2,xt,2,0,"span",73)(3,vt,2,0,"span",74),r()),e&2){let t=o.$implicit;a(),d("ngIf",t.status==="PENDING"),a(),d("ngIf",t.status==="SETTLED"),a(),d("ngIf",t.status==="CANCELLED")}}function St(e,o){e&1&&(i(0,"th",63),n(1,"Fecha"),r())}function Ct(e,o){if(e&1&&(i(0,"td",64),n(1),T(2,"date"),r()),e&2){let t=o.$implicit;a(),_(M(2,1,t.created_at,"dd/MM/yyyy HH:mm"))}}function yt(e,o){e&1&&v(0,"tr",65)}function bt(e,o){e&1&&v(0,"tr",66)}function Et(e,o){e&1&&(i(0,"div",67)(1,"p",68),n(2,"No hay datos para mostrar"),r()())}function Tt(e,o){if(e&1&&(i(0,"div",49)(1,"table",50),u(2,51),p(3,dt,2,0,"th",52)(4,pt,2,1,"td",53),f(),u(5,56),p(6,st,2,0,"th",52)(7,mt,2,1,"td",53),f(),u(8,57),p(9,ct,2,0,"th",52)(10,_t,2,1,"td",53),f(),u(11,69),p(12,ut,2,0,"th",52)(13,ft,2,1,"td",53),f(),u(14,70),p(15,ht,2,0,"th",52)(16,Rt,4,3,"td",53),f(),u(17,71),p(18,St,2,0,"th",52)(19,Ct,3,4,"td",53),f(),p(20,yt,1,0,"tr",60)(21,bt,1,0,"tr",61),r(),p(22,Et,3,0,"div",62),r()),e&2){let t=C(2);a(),d("dataSource",t.currentReport.debts||R(4,Pe)),a(19),d("matHeaderRowDef",R(5,Ae)),a(),d("matRowDefColumns",R(6,Ae)),a(),d("ngIf",!t.currentReport.debts||t.currentReport.debts.length===0)}}function Mt(e,o){if(e&1&&(i(0,"mat-card",25)(1,"mat-card-header")(2,"mat-card-title"),p(3,Le,2,0,"span",41)(4,je,2,0,"span",41)(5,$e,2,0,"span",41),r(),i(6,"mat-card-subtitle"),n(7),T(8,"date"),T(9,"date"),r()(),i(10,"mat-card-content",9)(11,"div",42)(12,"div",43)(13,"p",15),n(14,"Total Registros"),r(),i(15,"p",44),n(16),r()(),i(17,"div",45)(18,"p",15),n(19,"Monto Total"),r(),i(20,"p",17),n(21),r()(),i(22,"div",46)(23,"p",15),n(24,"Per\xEDodo"),r(),i(25,"p",47),n(26),r()()(),p(27,lt,26,7,"div",48)(28,Tt,23,7,"div",48),r()()),e&2){let t=C();a(3),d("ngIf",t.currentReportType==="sales"),a(),d("ngIf",t.currentReportType==="debts"),a(),d("ngIf",t.currentReportType==="operator"),a(2),O(" Per\xEDodo: ",M(8,11,t.filters.date_from,"dd/MM/yyyy")," - ",M(9,14,t.filters.date_to,"dd/MM/yyyy")," "),a(9),F(" ",t.currentReport.total_sales||t.currentReport.total_sessions||t.currentReport.total_debts||0," "),a(5),F(" ",t.reportService.formatAmount(t.currentReport.total_amount||0)," "),a(5),O(" ",t.currentReport.period==null?null:t.currentReport.period.from," - ",t.currentReport.period==null?null:t.currentReport.period.to," "),a(),d("ngIf",t.currentReportType==="sales"),a(),d("ngIf",t.currentReportType==="debts")}}var ri=(()=>{class e{constructor(t,s,l,c){this.reportService=t,this.sectorService=s,this.operatorService=l,this.cdr=c,this._unsubscribeAll=new A,this.loading=!1,this.dashboardData=null,this.filters={date_from:new Date(new Date().setDate(new Date().getDate()-7)).toISOString().split("T")[0],date_to:new Date().toISOString().split("T")[0],sector_id:void 0,operator_id:void 0},this.selectedReportType="sales",this.sectors=[],this.operators=[],this.currentReport=null,this.currentReportType="",this.displayedColumns=["operator","plate","started_at","ended_at","sector","duration","amount"]}ngOnInit(){this.loadDashboardData(),this.loadFiltersData()}ngOnDestroy(){this._unsubscribeAll.next(null),this._unsubscribeAll.complete()}loadDashboardData(){this.loading=!0,this.reportService.getDashboard().pipe(w(this._unsubscribeAll)).subscribe({next:t=>{this.dashboardData=t.data,this.loading=!1},error:t=>{console.error("Error loading dashboard data:",t),this.loading=!1}})}loadFiltersData(){this.sectorService.getSectors().subscribe({next:t=>{this.sectors=t.data.data||[]},error:t=>console.error("Error loading sectors:",t)}),this.operatorService.getAllOperators().subscribe({next:t=>{this.operators=t.data||[]},error:t=>console.error("Error loading operators:",t)})}onCardClick(t){this.selectedReportType=t}generateReportFromFilters(){this.generateReport(this.selectedReportType)}generateReport(t){this.currentReportType=t,this.loading=!0;let s={date_from:this.filters.date_from,date_to:this.filters.date_to};this.filters.sector_id&&(s.sector_id=this.filters.sector_id),this.filters.operator_id&&(s.operator_id=this.filters.operator_id);let l;switch(t){case"sales":l=this.reportService.getSalesReport(s);break;case"debts":l=this.reportService.getDebtsReport(s);break;case"operator":if(!s.operator_id){alert("Debe seleccionar un operador"),this.loading=!1;return}l=this.reportService.getOperatorReport(s);break;default:this.loading=!1;return}l.pipe(w(this._unsubscribeAll)).subscribe({next:c=>{this.currentReport=c.data,this.loading=!1,this.cdr.detectChanges()},error:c=>{console.error("Error generating report:",c),this.loading=!1}})}exportReport(t){if(this.currentReport&&this.currentReportType===t){this.exportCurrentReport();return}this.currentReportType=t,this.loading=!0;let s={date_from:this.filters.date_from,date_to:this.filters.date_to};this.filters.sector_id&&(s.sector_id=this.filters.sector_id),this.filters.operator_id&&(s.operator_id=this.filters.operator_id);let l;switch(t){case"sales":l=this.reportService.getSalesReport(s);break;case"debts":l=this.reportService.getDebtsReport(s);break;case"operator":if(!s.operator_id){alert("Debe seleccionar un operador"),this.loading=!1;return}l=this.reportService.getOperatorReport(s);break;default:this.loading=!1;return}l.pipe(w(this._unsubscribeAll)).subscribe({next:c=>{this.currentReport=c.data,this.loading=!1,this.cdr.detectChanges(),this.exportCurrentReport()},error:c=>{console.error("Error generating report:",c),this.loading=!1}})}exportCurrentReport(){if(!this.currentReport)return;let t={date_from:this.filters.date_from,date_to:this.filters.date_to};this.filters.sector_id&&(t.sector_id=this.filters.sector_id),this.filters.operator_id&&(t.operator_id=this.filters.operator_id),this.reportService.exportToPdf(this.currentReportType,t)}clearFilters(){this.filters={date_from:new Date(new Date().setDate(new Date().getDate()-7)).toISOString().split("T")[0],date_to:new Date().toISOString().split("T")[0],sector_id:void 0,operator_id:void 0},this.currentReport=null,this.currentReportType=""}getTotalSales(){return this.currentReport&&this.currentReportType==="sales"?this.reportService.formatAmount(this.currentReport.total_amount||0):this.dashboardData?.today_sales?.total_amount?this.reportService.formatAmount(this.dashboardData.today_sales.total_amount):"$0"}getTotalPayments(){return this.currentReport&&this.currentReportType==="payments"?this.currentReport.total_payments||0:this.dashboardData?.today_payments?.count||0}getTotalDebts(){return this.currentReport&&this.currentReportType==="debts"?this.currentReport.total_debts||0:this.dashboardData?.pending_debts?.count||0}getTotalDebtsAmount(){return this.currentReport&&this.currentReportType==="debts"?this.reportService.formatAmount(this.currentReport.total_amount||0):this.dashboardData?.pending_debts?.total_amount?this.reportService.formatAmount(this.dashboardData.pending_debts.total_amount):"$0"}getOperatorCount(){return this.currentReport&&this.currentReportType==="operator"&&this.currentReport.sessions?.total||0}getSessionsCount(){return this.currentReport&&this.currentReportType==="sessions"?(this.currentReport.total_sessions||0).toString():this.dashboardData?.active_sessions?.count!==void 0?this.dashboardData.active_sessions.count.toString():"0"}getPaymentMethodLabel(t){return{CASH:"Efectivo",CARD:"Tarjeta",WEBPAY:"Webpay",TRANSFER:"Transferencia"}[t]||t}static{this.\u0275fac=function(s){return new(s||e)(D(_e),D(ke),D(Fe),D(W))}}static{this.\u0275cmp=P({type:e,selectors:[["app-reports"]],decls:118,vars:32,consts:[["picker1",""],["picker2",""],[1,"p-6","w-full"],[1,"flex","items-center","justify-between","mb-6"],[1,"text-2xl","font-bold","text-gray-900"],[1,"text-gray-600"],[1,"grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-3","gap-6"],[1,"relative","hover:shadow-lg","transition-all"],["class","absolute inset-0 bg-gray-300 bg-opacity-30 z-10 rounded-lg",4,"ngIf"],[1,"p-6"],[1,"flex","items-center","mb-4"],[1,"p-3","bg-green-100","rounded-full"],[1,"text-green-600"],[1,"ml-4"],[1,"text-lg","font-semibold","text-gray-900"],[1,"text-sm","text-gray-600"],[1,"flex","justify-between","items-center"],[1,"text-2xl","font-bold","text-green-600"],["mat-icon-button","",3,"click"],[1,"p-3","bg-red-100","rounded-full"],[1,"text-red-600"],[1,"text-2xl","font-bold","text-red-600"],[1,"p-3","bg-purple-100","rounded-full"],[1,"text-purple-600"],[1,"text-2xl","font-bold","text-purple-600"],[1,"mt-6"],[1,"grid","grid-cols-1","md:grid-cols-5","gap-4"],["appearance","outline"],[3,"ngModelChange","ngModel"],["value","sales"],["value","debts"],["value","operator"],["matInput","","type","text","placeholder","dd/mm/yyyy",3,"ngModelChange","matDatepicker","ngModel"],["matSuffix","",3,"for"],[3,"value"],[3,"value",4,"ngFor","ngForOf"],[1,"flex","justify-end","gap-4","mt-6"],["mat-stroked-button","",3,"click"],["mat-raised-button","","color","primary",3,"click"],["class","mt-6",4,"ngIf"],[1,"absolute","inset-0","bg-gray-300","bg-opacity-30","z-10","rounded-lg"],[4,"ngIf"],[1,"grid","grid-cols-1","md:grid-cols-3","gap-4","mb-6"],[1,"bg-blue-50","p-4","rounded-lg"],[1,"text-2xl","font-bold","text-blue-600"],[1,"bg-green-50","p-4","rounded-lg"],[1,"bg-purple-50","p-4","rounded-lg"],[1,"text-lg","font-semibold","text-purple-600"],["class","overflow-x-auto",4,"ngIf"],[1,"overflow-x-auto"],["mat-table","",1,"w-full",3,"dataSource"],["matColumnDef","plate"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","started_at"],["matColumnDef","ended_at"],["matColumnDef","sector"],["matColumnDef","operator"],["matColumnDef","duration"],["matColumnDef","amount"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","text-center py-8",4,"ngIf"],["mat-header-cell",""],["mat-cell",""],["mat-header-row",""],["mat-row",""],[1,"text-center","py-8"],[1,"text-gray-500"],["matColumnDef","principal_amount"],["matColumnDef","status"],["matColumnDef","created_at"],["class","px-2 py-1 text-xs font-semibold rounded bg-yellow-100 text-yellow-800",4,"ngIf"],["class","px-2 py-1 text-xs font-semibold rounded bg-green-100 text-green-800",4,"ngIf"],["class","px-2 py-1 text-xs font-semibold rounded bg-red-100 text-red-800",4,"ngIf"],[1,"px-2","py-1","text-xs","font-semibold","rounded","bg-yellow-100","text-yellow-800"],[1,"px-2","py-1","text-xs","font-semibold","rounded","bg-green-100","text-green-800"],[1,"px-2","py-1","text-xs","font-semibold","rounded","bg-red-100","text-red-800"]],template:function(s,l){if(s&1){let c=V();i(0,"div",2)(1,"div",3)(2,"div")(3,"h1",4),n(4,"Reportes"),r(),i(5,"p",5),n(6,"Genera y exporta reportes del sistema"),r()()(),i(7,"div",6)(8,"mat-card",7),p(9,Ve,1,0,"div",8),i(10,"mat-card-content",9)(11,"div",10)(12,"div",11)(13,"mat-icon",12),n(14,"trending_up"),r()(),i(15,"div",13)(16,"h3",14),n(17,"Reporte de Ventas"),r(),i(18,"p",15),n(19,"An\xE1lisis de ventas por per\xEDodo"),r()()(),i(20,"div",16)(21,"span",17),n(22),r(),i(23,"button",18),S("click",function(m){return g(c),l.exportReport("sales"),x(m.stopPropagation())}),i(24,"mat-icon"),n(25,"download"),r()()()()(),i(26,"mat-card",7),p(27,We,1,0,"div",8),i(28,"mat-card-content",9)(29,"div",10)(30,"div",19)(31,"mat-icon",20),n(32,"account_balance_wallet"),r()(),i(33,"div",13)(34,"h3",14),n(35,"Reporte de Deudas"),r(),i(36,"p",15),n(37,"An\xE1lisis de deudas pendientes"),r()()(),i(38,"div",16)(39,"span",21),n(40),r(),i(41,"button",18),S("click",function(m){return g(c),l.exportReport("debts"),x(m.stopPropagation())}),i(42,"mat-icon"),n(43,"download"),r()()()()(),i(44,"mat-card",7),p(45,He,1,0,"div",8),i(46,"mat-card-content",9)(47,"div",10)(48,"div",22)(49,"mat-icon",23),n(50,"people"),r()(),i(51,"div",13)(52,"h3",14),n(53,"Reporte por Operador"),r(),i(54,"p",15),n(55,"Rendimiento por operador"),r()()(),i(56,"div",16)(57,"span",24),n(58),r(),i(59,"button",18),S("click",function(m){return g(c),l.exportReport("operator"),x(m.stopPropagation())}),i(60,"mat-icon"),n(61,"download"),r()()()()()(),i(62,"mat-card",25)(63,"mat-card-header")(64,"mat-card-title"),n(65,"Filtros de Reporte"),r(),i(66,"mat-card-subtitle"),n(67,"Configura los par\xE1metros para generar reportes personalizados"),r()(),i(68,"mat-card-content",9)(69,"div",26)(70,"mat-form-field",27)(71,"mat-label"),n(72,"Tipo de Reporte"),r(),i(73,"mat-select",28),E("ngModelChange",function(m){return g(c),b(l.selectedReportType,m)||(l.selectedReportType=m),x(m)}),i(74,"mat-option",29),n(75,"Reporte de Ventas"),r(),i(76,"mat-option",30),n(77,"Reporte de Deudas"),r(),i(78,"mat-option",31),n(79,"Reporte por Operador"),r()()(),i(80,"mat-form-field",27)(81,"mat-label"),n(82,"Fecha desde"),r(),i(83,"input",32),E("ngModelChange",function(m){return g(c),b(l.filters.date_from,m)||(l.filters.date_from=m),x(m)}),r(),v(84,"mat-datepicker-toggle",33)(85,"mat-datepicker",null,0),r(),i(87,"mat-form-field",27)(88,"mat-label"),n(89,"Fecha hasta"),r(),i(90,"input",32),E("ngModelChange",function(m){return g(c),b(l.filters.date_to,m)||(l.filters.date_to=m),x(m)}),r(),v(91,"mat-datepicker-toggle",33)(92,"mat-datepicker",null,1),r(),i(94,"mat-form-field",27)(95,"mat-label"),n(96,"Sector"),r(),i(97,"mat-select",28),E("ngModelChange",function(m){return g(c),b(l.filters.sector_id,m)||(l.filters.sector_id=m),x(m)}),i(98,"mat-option",34),n(99,"Todos los sectores"),r(),p(100,Ne,2,2,"mat-option",35),r()(),i(101,"mat-form-field",27)(102,"mat-label"),n(103,"Operador"),r(),i(104,"mat-select",28),E("ngModelChange",function(m){return g(c),b(l.filters.operator_id,m)||(l.filters.operator_id=m),x(m)}),i(105,"mat-option",34),n(106,"Todos los operadores"),r(),p(107,Be,2,2,"mat-option",35),r()()(),i(108,"div",36)(109,"button",37),S("click",function(){return g(c),x(l.clearFilters())}),i(110,"mat-icon"),n(111,"refresh"),r(),n(112," Limpiar "),r(),i(113,"button",38),S("click",function(){return g(c),x(l.generateReportFromFilters())}),i(114,"mat-icon"),n(115,"search"),r(),n(116," Generar Reporte "),r()()()(),p(117,Mt,29,17,"mat-card",39),r()}if(s&2){let c=k(86),h=k(93);a(8),I("cursor-pointer",l.selectedReportType==="sales")("opacity-50",l.selectedReportType!=="sales"),a(),d("ngIf",l.selectedReportType!=="sales"),a(13),_(l.getTotalSales()),a(4),I("cursor-pointer",l.selectedReportType==="debts")("opacity-50",l.selectedReportType!=="debts"),a(),d("ngIf",l.selectedReportType!=="debts"),a(13),_(l.getTotalDebtsAmount()),a(4),I("cursor-pointer",l.selectedReportType==="operator")("opacity-50",l.selectedReportType!=="operator"),a(),d("ngIf",l.selectedReportType!=="operator"),a(13),_(l.getOperatorCount()),a(15),y("ngModel",l.selectedReportType),a(10),d("matDatepicker",c),y("ngModel",l.filters.date_from),a(),d("for",c),a(6),d("matDatepicker",h),y("ngModel",l.filters.date_to),a(),d("for",h),a(6),y("ngModel",l.filters.sector_id),a(),d("value",void 0),a(2),d("ngForOf",l.sectors),a(4),y("ngModel",l.filters.operator_id),a(),d("value",void 0),a(2),d("ngForOf",l.operators),a(10),d("ngIf",l.currentReport&&l.currentReportType)}},dependencies:[L,H,N,B,re,ee,te,ie,Ie,Ee,Me,we,De,Te,K,Y,J,X,Q,ae,U,q,z,G,oe,ne,se,le,de,pe,ce,me,$,be,ue,he,Re,ge,fe,Se,xe,ve,Ce,ye,j,Z],styles:[".mat-mdc-card[_ngcontent-%COMP%]{box-shadow:0 1px 3px #0000001a,0 1px 2px #0000000f;transition:box-shadow .3s ease}.mat-mdc-card[_ngcontent-%COMP%]:hover{box-shadow:0 10px 25px #00000026}@media (max-width: 768px){.grid-cols-3[_ngcontent-%COMP%], .grid-cols-4[_ngcontent-%COMP%]{grid-template-columns:1fr}}"]})}}return e})();export{ri as ReportsComponent};
