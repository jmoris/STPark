import{a as c}from"./chunk-IAUCWH3R.js";import{d as a}from"./chunk-7OGW3PNS.js";import{_ as n,da as i}from"./chunk-BSJZAB7M.js";var y=(()=>{class o{constructor(t){this.http=t,this.baseUrl=`${c.apiUrl}/reports`}getDashboard(t){let e={};return t&&(e.date=t),this.http.get(`${this.baseUrl}/dashboard`,{params:e})}getSalesReport(t={}){return this.http.get(`${this.baseUrl}/sales`,{params:t})}getPaymentsReport(t={}){return this.http.get(`${this.baseUrl}/payments`,{params:t})}getDebtsReport(t={}){return this.http.get(`${this.baseUrl}/debts`,{params:t})}getOperatorReport(t={}){return this.http.get(`${this.baseUrl}/operator`,{params:t})}formatAmount(t){return new Intl.NumberFormat("es-CL",{style:"currency",currency:"CLP",minimumFractionDigits:0}).format(t)}formatDate(t){let e=typeof t=="string"?new Date(t):t;return new Intl.DateTimeFormat("es-CL",{year:"numeric",month:"short",day:"numeric"}).format(e)}exportToCSV(t,e){if(!t||t.length===0){console.warn("No data to export");return}let s=Object.keys(t[0]),m=[s.join(","),...t.map(l=>s.map(u=>`"${l[u]||""}"`).join(","))].join(`
`),p=new Blob([m],{type:"text/csv;charset=utf-8;"}),r=document.createElement("a"),h=URL.createObjectURL(p);r.setAttribute("href",h),r.setAttribute("download",`${e}.csv`),r.style.visibility="hidden",document.body.appendChild(r),r.click(),document.body.removeChild(r)}static{this.\u0275fac=function(e){return new(e||o)(i(a))}}static{this.\u0275prov=n({token:o,factory:o.\u0275fac,providedIn:"root"})}}return o})();export{y as a};
